<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>/Volumes/Users/johnh/Documents/ObjCpp/objstr.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/Volumes/Users/johnh/Documents/ObjCpp/objstr.h</h1><a href="objstr_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  objstr.h - NSString based string class with operators</span>
<a name="l00003"></a>00003 <span class="comment"> *  ========</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> *  Created by John Holdsworth on 01/04/2009.</span>
<a name="l00006"></a>00006 <span class="comment"> *  Copyright 2009 John Holdsworth.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *  $Id: //depot/ObjCpp/objstr.h#47 $</span>
<a name="l00009"></a>00009 <span class="comment"> *  $DateTime: 2009/11/16 14:27:06 $</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> *  C++ classes to wrap up XCode classes for operator overload of</span>
<a name="l00012"></a>00012 <span class="comment"> *  useful operations such as access to NSArrays and NSDictionary</span>
<a name="l00013"></a>00013 <span class="comment"> *  by subscript or NSString operators such as + for concatenation.</span>
<a name="l00014"></a>00014 <span class="comment"> *</span>
<a name="l00015"></a>00015 <span class="comment"> *  This works as the Apple Objective-C compiler supports source</span>
<a name="l00016"></a>00016 <span class="comment"> *  which mixes C++ with objective C. To enable this: for each</span>
<a name="l00017"></a>00017 <span class="comment"> *  source file which will include/import this header file, select</span>
<a name="l00018"></a>00018 <span class="comment"> *  it in Xcode and open it's "Info". To enable mixed compilation,</span>
<a name="l00019"></a>00019 <span class="comment"> *  for the file's "File Type" select: "sourcecode.cpp.objcpp".</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> *  For bugs or ommisions please email objcpp@johnholdsworth.com</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> *  Home page for updates and docs: http://objcpp.johnholdsworth.com</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> *  Forum for support: http://n2.nabble.com/Objcpp-Q-A-f2626793.html </span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> *  You may make commercial use of this source in applications without</span>
<a name="l00028"></a>00028 <span class="comment"> *  charge but not sell it as source nor can you remove this notice from</span>
<a name="l00029"></a>00029 <span class="comment"> *  this source if you redistribute. You can make any changes you like</span>
<a name="l00030"></a>00030 <span class="comment"> *  to this code before redistribution but please annotate them below.</span>
<a name="l00031"></a>00031 <span class="comment"> *</span>
<a name="l00032"></a>00032 <span class="comment"> *  If you find it useful please send a donation via paypal to account</span>
<a name="l00033"></a>00033 <span class="comment"> *  objcpp@johnholdsworth.com. Thanks.</span>
<a name="l00034"></a>00034 <span class="comment"> *</span>
<a name="l00035"></a>00035 <span class="comment"> *  THIS CODE IS PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND EITHER</span>
<a name="l00036"></a>00036 <span class="comment"> *  EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED </span>
<a name="l00037"></a>00037 <span class="comment"> *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.</span>
<a name="l00038"></a>00038 <span class="comment"> *</span>
<a name="l00039"></a>00039 <span class="comment"> *  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING</span>
<a name="l00040"></a>00040 <span class="comment"> *  WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS</span>
<a name="l00041"></a>00041 <span class="comment"> *  THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING</span>
<a name="l00042"></a>00042 <span class="comment"> *  ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT</span>
<a name="l00043"></a>00043 <span class="comment"> *  OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED</span>
<a name="l00044"></a>00044 <span class="comment"> *  TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED </span>
<a name="l00045"></a>00045 <span class="comment"> *  BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH </span>
<a name="l00046"></a>00046 <span class="comment"> *  ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN</span>
<a name="l00047"></a>00047 <span class="comment"> *  ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</span>
<a name="l00048"></a>00048 <span class="comment"> *</span>
<a name="l00049"></a>00049 <span class="comment"> */</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#import "<a class="code" href="objcpp_8h.html">objcpp.h</a>"</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="comment">/*====================================================================================*/</span>
<a name="l00054"></a>00054 <span class="comment">/*============================= String classes =======================================*/</span>
<a name="l00055"></a>00055 <span class="comment"></span>
<a name="l00056"></a>00056 <span class="comment">/**</span>
<a name="l00057"></a>00057 <span class="comment"> Internal class representing a susbscript operation into a string to access or assign</span>
<a name="l00058"></a>00058 <span class="comment"> to individual characters or ranges</span>
<a name="l00059"></a>00059 <span class="comment"> </span>
<a name="l00060"></a>00060 <span class="comment"> Usage:</span>
<a name="l00061"></a>00061 <span class="comment"> &lt;pre&gt;</span>
<a name="l00062"></a>00062 <span class="comment"> OOString str &lt;&lt;= @"JOHN";</span>
<a name="l00063"></a>00063 <span class="comment"> if ( str[1] != 'O' )</span>
<a name="l00064"></a>00064 <span class="comment"> str[1] = 'O';</span>
<a name="l00065"></a>00065 <span class="comment"> &lt;/pre&gt;</span>
<a name="l00066"></a>00066 <span class="comment"> */</span>
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="keyword">class </span>OOStringSub {
<a name="l00069"></a>00069     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_o_o_string.html">OOString</a>;
<a name="l00070"></a>00070     NSMutableString *str;
<a name="l00071"></a>00071     NSRange idx;
<a name="l00072"></a>00072     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub( NSMutableString *<a class="code" href="class_o_o_reference.html#2ba2fbd302015f90745aa718efe10bce">ref</a>, <span class="keywordtype">int</span> sub ) {
<a name="l00073"></a>00073         str = ref;
<a name="l00074"></a>00074         idx = NSMakeRange( sub &lt; 0 ? [str length]+sub : sub, 1 );
<a name="l00075"></a>00075     }
<a name="l00076"></a>00076     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub( NSMutableString *<a class="code" href="class_o_o_reference.html#2ba2fbd302015f90745aa718efe10bce">ref</a>, <span class="keyword">const</span> NSRange &amp;sub ) {
<a name="l00077"></a>00077         str = ref;
<a name="l00078"></a>00078         idx = sub;
<a name="l00079"></a>00079     }
<a name="l00080"></a>00080 <span class="keyword">public</span>:
<a name="l00081"></a>00081 <span class="preprocessor">#if 0</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>    <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL isupper() {
<a name="l00083"></a>00083         <span class="keywordflow">return</span> isupper( (<span class="keywordtype">int</span>)**<span class="keyword">this</span> );
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL islower() {
<a name="l00086"></a>00086         <span class="keywordflow">return</span> islower( (<span class="keywordtype">int</span>)**<span class="keyword">this</span> );
<a name="l00087"></a>00087     }
<a name="l00088"></a>00088 <span class="preprocessor">#endif</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>    <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator unichar ()<span class="keyword"> const </span>{
<a name="l00090"></a>00090         <span class="keywordflow">return</span> **<span class="keyword">this</span>;
<a name="l00091"></a>00091     }
<a name="l00092"></a>00092     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> unichar <a class="code" href="objcpp_8h.html#e90a5c829d857224b50dd5736c132e45">operator * </a>()<span class="keyword"> const </span>{
<a name="l00093"></a>00093         <span class="keywordflow">return</span> [str characterAtIndex:idx.location];
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator NSString * ()<span class="keyword"> const </span>{
<a name="l00096"></a>00096         <span class="keywordflow">return</span> [str substringWithRange:idx];
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub &amp; <a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( unichar val ) {
<a name="l00099"></a>00099         [str replaceCharactersInRange:idx withString:[NSString stringWithFormat:<span class="stringliteral">@"%c"</span>, val]];
<a name="l00100"></a>00100         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub &amp; <a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( NSString *val ) {
<a name="l00103"></a>00103         [str replaceCharactersInRange:idx withString:val];
<a name="l00104"></a>00104         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00105"></a>00105     }
<a name="l00106"></a>00106     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub &amp; <a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val ) {
<a name="l00107"></a>00107         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( [NSString stringWithUTF8String:val] );
<a name="l00108"></a>00108     }
<a name="l00109"></a>00109 };
<a name="l00110"></a>00110 <span class="comment"></span>
<a name="l00111"></a>00111 <span class="comment">/**</span>
<a name="l00112"></a>00112 <span class="comment"> Internal class representing subscript by string which performs a search into the</span>
<a name="l00113"></a>00113 <span class="comment"> string. Assigning to for example str[@"BARRY"] = @"BAZ" will change all occurances</span>
<a name="l00114"></a>00114 <span class="comment"> of "BARRY" in the string to "BAZ".</span>
<a name="l00115"></a>00115 <span class="comment"> </span>
<a name="l00116"></a>00116 <span class="comment"> Usage:</span>
<a name="l00117"></a>00117 <span class="comment"> &lt;pre&gt;</span>
<a name="l00118"></a>00118 <span class="comment"> OOString str &lt;&lt;= @"BARRY is great";</span>
<a name="l00119"></a>00119 <span class="comment"> str[@"great"] = @"an egotist";</span>
<a name="l00120"></a>00120 <span class="comment"> &lt;/pre&gt;</span>
<a name="l00121"></a>00121 <span class="comment"> */</span>
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="class_o_o_string_search.html">00123</a> <span class="keyword">class </span><a class="code" href="class_o_o_string_search.html">OOStringSearch</a> {
<a name="l00124"></a><a class="code" href="class_o_o_string_search.html#095d9f56975368742af2e2ad6de7796c">00124</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_o_o_string.html">OOString</a>;
<a name="l00125"></a><a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">00125</a>     NSMutableString *<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a>;
<a name="l00126"></a><a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">00126</a>     NSString *<a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">idx</a>;
<a name="l00127"></a><a class="code" href="class_o_o_string_search.html#eb2f045d79a6bc4e8306295eba694142">00127</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string_search.html#eb2f045d79a6bc4e8306295eba694142">OOStringSearch</a>( NSMutableString *<a class="code" href="class_o_o_reference.html#2ba2fbd302015f90745aa718efe10bce">ref</a>,  NSString *sub ) {
<a name="l00128"></a>00128         <a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> = ref;
<a name="l00129"></a>00129         <a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">idx</a> = sub;
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 <span class="keyword">public</span>:
<a name="l00132"></a>00132     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator NSRange ()<span class="keyword"> const </span>{
<a name="l00133"></a>00133         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> rangeOfString:<a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">idx</a>];
<a name="l00134"></a>00134     }
<a name="l00135"></a>00135     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator NSUInteger ()<span class="keyword"> const </span>{
<a name="l00136"></a>00136         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> rangeOfString:<a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">idx</a>].location;
<a name="l00137"></a>00137     }
<a name="l00138"></a><a class="code" href="class_o_o_string_search.html#c81b18abc1a52589cd768e7cadeaee3f">00138</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string_search.html">OOStringSearch</a> &amp; <a class="code" href="class_o_o_string_search.html#c81b18abc1a52589cd768e7cadeaee3f">operator = </a>( NSString *replacement ) {
<a name="l00139"></a>00139         [<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> setString:[<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> stringByReplacingOccurrencesOfString:<a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">idx</a> withString:replacement]];
<a name="l00140"></a>00140         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00141"></a>00141     }
<a name="l00142"></a><a class="code" href="class_o_o_string_search.html#3f7090545017eb58c03f22d37b9d83d8">00142</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string_search.html">OOStringSearch</a> &amp; <a class="code" href="class_o_o_string_search.html#c81b18abc1a52589cd768e7cadeaee3f">operator = </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *replacement ) {
<a name="l00143"></a>00143         *<span class="keyword">this</span> = [NSString stringWithUTF8String:replacement];
<a name="l00144"></a>00144         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00145"></a>00145     }
<a name="l00146"></a><a class="code" href="class_o_o_string_search.html#9099e6edc97626a9b4a54f3855415b4e">00146</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string_search.html#9099e6edc97626a9b4a54f3855415b4e">operator ! </a>()<span class="keyword"> const </span>{
<a name="l00147"></a>00147         <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> || [<a class="code" href="class_o_o_string_search.html#2c301c95688f3fd0fe59561282332758">str</a> rangeOfString:<a class="code" href="class_o_o_string_search.html#1350a48b87140dc2e73036ce902a031e">idx</a>].location == NSNotFound;
<a name="l00148"></a>00148     }
<a name="l00149"></a>00149 };
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="keyword">class </span>OOTmpStr;
<a name="l00152"></a>00152 <span class="comment"></span>
<a name="l00153"></a>00153 <span class="comment">/**</span>
<a name="l00154"></a>00154 <span class="comment"> A string class wrapping around NSString with all the usual operators including subscript.</span>
<a name="l00155"></a>00155 <span class="comment"> OOStringArray is \#defined as OOArray&lt;OOString&gt; and OOStringDict is \#defined as OODictionary&lt;OString&gt;</span>
<a name="l00156"></a>00156 <span class="comment"> for convenience.</span>
<a name="l00157"></a>00157 <span class="comment"> </span>
<a name="l00158"></a>00158 <span class="comment"> Operators:</span>
<a name="l00159"></a>00159 <span class="comment"> &lt;table cellspacing=0&gt;&lt;tr&gt;&lt;th&gt;operator&lt;th&gt;inplace&lt;th&gt;binary&lt;th&gt;arguments</span>
<a name="l00160"></a>00160 <span class="comment"> &lt;tr&gt;&lt;td&gt;assign&lt;td&gt;=&lt;td&gt;&amp;nbsp;&lt;td&gt;String or NSString</span>
<a name="l00161"></a>00161 <span class="comment"> &lt;tr&gt;&lt;td&gt;copy&lt;td&gt;&amp;lt;&amp;lt;=&lt;td&gt;&amp;nbsp;&lt;td&gt;String or NSString</span>
<a name="l00162"></a>00162 <span class="comment"> &lt;tr&gt;&lt;td&gt;append&lt;td&gt;+=&lt;td&gt;+&lt;td&gt;string or number</span>
<a name="l00163"></a>00163 <span class="comment"> &lt;tr&gt;&lt;td&gt;remove&lt;td&gt;-=&lt;td&gt;-&lt;td&gt;string</span>
<a name="l00164"></a>00164 <span class="comment"> &lt;tr&gt;&lt;td&gt;repeat&lt;td&gt;*=&lt;td&gt;*&lt;td&gt;count</span>
<a name="l00165"></a>00165 <span class="comment"> &lt;tr&gt;&lt;td&gt;split&lt;td&gt;&amp;nbsp;&lt;td&gt;/&lt;td&gt;string</span>
<a name="l00166"></a>00166 <span class="comment"> &lt;tr&gt;&lt;td&gt;find&lt;td&gt;&lt;td&gt;&amp;amp;&lt;td&gt;pattern</span>
<a name="l00167"></a>00167 <span class="comment"> &lt;tr&gt;&lt;td&gt;parse&lt;td&gt;&lt;td&gt;^&lt;td&gt;pattern</span>
<a name="l00168"></a>00168 <span class="comment"> &lt;tr&gt;&lt;td&gt;replace&lt;td&gt;|=&lt;td&gt;|&lt;td&gt;replace string = "/pat/with/"</span>
<a name="l00169"></a>00169 <span class="comment"> &lt;tr&gt;&lt;td&gt;subscript&lt;td&gt;&amp;nbsp;&lt;td&gt;[]&lt;td&gt;character number</span>
<a name="l00170"></a>00170 <span class="comment"> &lt;tr&gt;&lt;td&gt;search&lt;td&gt;&amp;nbsp;&lt;td&gt;[]&lt;td&gt;string</span>
<a name="l00171"></a>00171 <span class="comment"> &lt;/table&gt;</span>
<a name="l00172"></a>00172 <span class="comment"> </span>
<a name="l00173"></a>00173 <span class="comment"> Usage:</span>
<a name="l00174"></a>00174 <span class="comment"> &lt;pre&gt;</span>
<a name="l00175"></a>00175 <span class="comment"> OOString str &lt;&lt;= @"The time is ";</span>
<a name="l00176"></a>00176 <span class="comment"> NSLog( "%@", *(str+ctime()) );</span>
<a name="l00177"></a>00177 <span class="comment"> &lt;/pre&gt;</span>
<a name="l00178"></a>00178 <span class="comment"> */</span>
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="class_o_o_string.html">00180</a> <span class="keyword">class </span><a class="code" href="class_o_o_string.html">OOString</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_reference.html">OOReference</a>&lt;NSMutableString *&gt; {
<a name="l00181"></a>00181 <span class="keyword">public</span>:
<a name="l00182"></a><a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">00182</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>() {}<span class="comment"></span>
<a name="l00183"></a>00183 <span class="comment">    ///oo_inline OOString( id val ) { set( val ); }</span>
<a name="l00184"></a><a class="code" href="class_o_o_string.html#b7a33dddb2e80c5c69a77028f5381c6b">00184</a> <span class="comment"></span>    <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#b7a33dddb2e80c5c69a77028f5381c6b" title="oo_inline OOString( id val ) { set( val ); }">OOString</a>( CFNullRef obj ) { <span class="keyword">set</span>( (id)obj ); }
<a name="l00185"></a><a class="code" href="class_o_o_string.html#e119dd0374a7ca08f8423c120474898a">00185</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#e119dd0374a7ca08f8423c120474898a">OOString</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str ) { *<span class="keyword">this</span> = str; }
<a name="l00186"></a><a class="code" href="class_o_o_string.html#e4c3b7670af7d82b6f244acf687048a9">00186</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#e4c3b7670af7d82b6f244acf687048a9">OOString</a>( <span class="keyword">const</span> OOStringSub &amp;sub ) { *<span class="keyword">this</span> = sub; }
<a name="l00187"></a><a class="code" href="class_o_o_string.html#9da4f95968b704dfcf3c0f5ef8e5a313">00187</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#9da4f95968b704dfcf3c0f5ef8e5a313">OOString</a>( <span class="keyword">const</span> OOArraySub&lt;OOString&gt; &amp;sub ) { *<span class="keyword">this</span> = sub; }
<a name="l00188"></a><a class="code" href="class_o_o_string.html#435695c4ba6efa448dc2d01a67a7a4c1">00188</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#435695c4ba6efa448dc2d01a67a7a4c1">OOString</a>( <span class="keyword">const</span> OODictionarySub&lt;OOString&gt; &amp;sub ) { *<span class="keyword">this</span> = sub; }
<a name="l00189"></a><a class="code" href="class_o_o_string.html#28ce1dc7aa420407f17e9fe167d8dde2">00189</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#28ce1dc7aa420407f17e9fe167d8dde2">OOString</a>( <span class="keywordtype">int</span> nilOrCapacity ) { *<span class="keyword">this</span> = nilOrCapacity; }
<a name="l00190"></a><a class="code" href="class_o_o_string.html#7f159a8ea5316815e3cec2d57071ae5d">00190</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#7f159a8ea5316815e3cec2d57071ae5d">OOString</a>( NSMutableString *str ) { *<span class="keyword">this</span> = str; }
<a name="l00191"></a><a class="code" href="class_o_o_string.html#c1784acc960183118a1c30c0e8d8f1e6">00191</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#c1784acc960183118a1c30c0e8d8f1e6">OOString</a>( NSString *str ) { *<span class="keyword">this</span> = str; }
<a name="l00192"></a><a class="code" href="class_o_o_string.html#82e84a2e7629bd43e4aa2e7fcd557428">00192</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#82e84a2e7629bd43e4aa2e7fcd557428">OOString</a>( <span class="keywordtype">double</span> val ) { *<span class="keyword">this</span> += val; }
<a name="l00193"></a><a class="code" href="class_o_o_string.html#4800560131097da9b491dfb160ddd5ad">00193</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#4800560131097da9b491dfb160ddd5ad">OOString</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val ) { 
<a name="l00194"></a>00194         [<span class="keyword">set</span>( [[NSMutableString <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithUTF8String:val] ) release];
<a name="l00195"></a>00195     }
<a name="l00196"></a><a class="code" href="class_o_o_string.html#0a7454898d614707086a8232afd8d0c5">00196</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#0a7454898d614707086a8232afd8d0c5">OOString</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val, <span class="keywordtype">int</span> len, <span class="keywordtype">int</span> encoding = NSUTF8StringEncoding ) { 
<a name="l00197"></a>00197         [<span class="keyword">set</span>( [[NSMutableString <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithBytes:val length:len encoding:encoding] ) release];
<a name="l00198"></a>00198     }
<a name="l00199"></a><a class="code" href="class_o_o_string.html#7f59d500c9029f85d49864c5dc15bdf6">00199</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#7f59d500c9029f85d49864c5dc15bdf6">OOString</a>( <span class="keyword">const</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> &amp;val ) {
<a name="l00200"></a>00200         *<span class="keyword">this</span> = val.join();
<a name="l00201"></a>00201     }
<a name="l00202"></a><a class="code" href="class_o_o_string.html#78fa9f9897ea59a0cc4c94cfd39605fe">00202</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="objcpp_8h.html#d896c998e9491af6a27c89afb7f63b3e">OOData</a> <a class="code" href="class_o_o_string.html#78fa9f9897ea59a0cc4c94cfd39605fe">utf8Data</a>()<span class="keyword"> const </span>{
<a name="l00203"></a>00203         <span class="keywordtype">int</span> len = [<span class="keyword">get</span>() lengthOfBytesUsingEncoding:NSUTF8StringEncoding];
<a name="l00204"></a>00204         <span class="keywordtype">char</span> *bytes = (<span class="keywordtype">char</span> *)malloc( len+1 );
<a name="l00205"></a>00205         [<span class="keyword">get</span>() getCString:bytes maxLength:len+1 encoding:NSUTF8StringEncoding];
<a name="l00206"></a>00206         <a class="code" href="objcpp_8h.html#d896c998e9491af6a27c89afb7f63b3e">OOData</a> out = [[NSData <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithBytesNoCopy:bytes length:len freeWhenDone:YES];
<a name="l00207"></a>00207         [*out release];
<a name="l00208"></a>00208         <span class="keywordflow">return</span> out;
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210     
<a name="l00211"></a>00211     <span class="comment">// basic operators</span>
<a name="l00212"></a><a class="code" href="class_o_o_string.html#9b672915c49526bc31495e15a5f524bc">00212</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> NSMutableString *<a class="code" href="class_o_o_string.html#9b672915c49526bc31495e15a5f524bc">operator &amp; </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_o_o_reference.html#cd795e2da75ff5a424fb60fc6ee2e32c">autoget</a>(); }
<a name="l00213"></a><a class="code" href="class_o_o_string.html#82dac80ad25e7d6eb1d52cf5999e8175">00213</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#82dac80ad25e7d6eb1d52cf5999e8175">operator const char * </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() UTF8String]; }
<a name="l00214"></a><a class="code" href="class_o_o_string.html#66d3f623de489950fe84a9f4edcec838">00214</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#66d3f623de489950fe84a9f4edcec838">operator double </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() doubleValue]; }
<a name="l00215"></a><a class="code" href="class_o_o_string.html#32bc937af572dd70b705f58e82904992">00215</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html#32bc937af572dd70b705f58e82904992">operator OOData </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#78fa9f9897ea59a0cc4c94cfd39605fe">utf8Data</a>(); }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="class_o_o_string.html#08758f74b0f81c130241fb7803444427">00217</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#08758f74b0f81c130241fb7803444427">capitals</a> () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() capitalizedString]; }
<a name="l00218"></a><a class="code" href="class_o_o_string.html#3130b93ec6e3120be0d15e785d7541c8">00218</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#3130b93ec6e3120be0d15e785d7541c8">toupper</a> () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() uppercaseString]; }
<a name="l00219"></a><a class="code" href="class_o_o_string.html#b82bdf6564d86d72e0eda0ce0eadecaf">00219</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#b82bdf6564d86d72e0eda0ce0eadecaf">tolower</a> () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() lowercaseString]; }
<a name="l00220"></a>00220     
<a name="l00221"></a>00221     <span class="comment">// assignment</span>
<a name="l00222"></a><a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">00222</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( NSMutableString *val ) { <span class="keyword">set</span>( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00223"></a><a class="code" href="class_o_o_string.html#af176a03e3c424b9e5d96138059f96cd">00223</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( NSString *val ) { OOCopyImmutable( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00224"></a><a class="code" href="class_o_o_string.html#956d9cad19c7cfb8aaadc1116a2ffe13">00224</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keywordtype">int</span> nilOrCapacity ) { <span class="keyword">set</span>( nilOrCapacity ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00225"></a><a class="code" href="class_o_o_string.html#fb405f6ef92601cca097d0068c39747f">00225</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val ) { <span class="keyword">set</span>( <a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>(val).get() ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00226"></a><a class="code" href="class_o_o_string.html#8fb7c62415058ee304b20c0482053b4e">00226</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;val ) { <span class="keyword">set</span>( val.get() ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00227"></a><a class="code" href="class_o_o_string.html#ec3f7c152aa69b125a8303f6f0cf1e6d">00227</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> OOStringSub &amp;val ) { OOCopyImmutable( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00228"></a><a class="code" href="class_o_o_string.html#27995dad92aabfca47e124e74c391103">00228</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> OOArraySub&lt;OOString&gt; &amp;val ) { <span class="keyword">set</span>( val.get() ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00229"></a><a class="code" href="class_o_o_string.html#39641c4180816287c55bbd7597c06691">00229</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> OODictionarySub&lt;OOString&gt; &amp;val ) { <span class="keyword">set</span>( val.get() ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00230"></a>00230     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#f4af4f6c3090babf8e81eec1943cf0fc">operator = </a>( <span class="keyword">const</span> OOTmpStr &amp;val );
<a name="l00231"></a>00231 
<a name="l00232"></a>00232     <span class="comment">// inplace operators - append, remove, repeat</span>
<a name="l00233"></a><a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f">00233</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keywordtype">id</span> val ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:[val description]]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00234"></a><a class="code" href="class_o_o_string.html#29b99ed1e6c20e4431280aa7f67892bb">00234</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keywordtype">int</span> val ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendFormat:<span class="stringliteral">@"%d"</span>, val]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00235"></a><a class="code" href="class_o_o_string.html#1da0d0b67c638cc02c3d943e0a2ed9c9">00235</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keywordtype">double</span> val ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendFormat:<span class="stringliteral">@"%f"</span>, val]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00236"></a><a class="code" href="class_o_o_string.html#6d06680b3ff44df0265235496f68b735">00236</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:<a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>( val ).get()]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00237"></a><a class="code" href="class_o_o_string.html#fa5cc2be8605568e539cd8a5dad20823">00237</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keyword">const</span> NSMutableString *str ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:str]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00238"></a><a class="code" href="class_o_o_string.html#11fdf858bb9074f1691cd32931f27559">00238</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keyword">const</span> NSString *str ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:str]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00239"></a><a class="code" href="class_o_o_string.html#eadadfdc2316347b606749298a653242">00239</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:str.get()]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00240"></a><a class="code" href="class_o_o_string.html#39f38d1e500ef9a25123ba39e3a10f70">00240</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keyword">const</span> OOArraySub&lt;OOString&gt; &amp;str ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:str.get()]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00241"></a><a class="code" href="class_o_o_string.html#6483c4e1809d6e7400d360c3f9629da7">00241</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#8ab186710776a389762b5124aac7712f" title="for OOArray&amp;lt;id&amp;gt;">operator += </a>( <span class="keyword">const</span> OODictionarySub&lt;OOString&gt; &amp;str ) { [<a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>() appendString:str.get()]; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00242"></a>00242 
<a name="l00243"></a><a class="code" href="class_o_o_string.html#5957c6e1d9ebc7147bff229e067f4ce6">00243</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#5957c6e1d9ebc7147bff229e067f4ce6">operator -= </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str ) { <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>(); (*this)[str] = <span class="stringliteral">@""</span>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00244"></a><a class="code" href="class_o_o_string.html#7130289e30d3715bc33e2ddf0a31b013">00244</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_string.html#7130289e30d3715bc33e2ddf0a31b013">operator *= </a>( NSUInteger count ) {
<a name="l00245"></a>00245         NSString *str = [[<span class="keyword">get</span>() <a class="code" href="class_o_o_reference.html#d715f9b65096c4e682254f9af15a77fa">copy</a>] autorelease];
<a name="l00246"></a>00246         *<span class="keyword">this</span> = <span class="stringliteral">""</span>;
<a name="l00247"></a>00247         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0 ; i&lt;count ; i++ )
<a name="l00248"></a>00248             *<span class="keyword">this</span> += str;
<a name="l00249"></a>00249         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251     
<a name="l00252"></a>00252     <span class="comment">// string comparison</span>
<a name="l00253"></a><a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">00253</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() isEqualToString:<a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>(str).get()]; }
<a name="l00254"></a><a class="code" href="class_o_o_string.html#5a9b908a7fffee05af8a7aea6cd2a94e">00254</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#5a9b908a7fffee05af8a7aea6cd2a94e">operator != </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( str ); }
<a name="l00255"></a><a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">00255</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt;  </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:<a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>(str).get()] == NSOrderedAscending; }
<a name="l00256"></a><a class="code" href="class_o_o_string.html#7c3e3188c8ba75fa34fd31b183879d94">00256</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#7c3e3188c8ba75fa34fd31b183879d94">operator &gt;= </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt; </a>( str ); }
<a name="l00257"></a><a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">00257</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt;  </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:<a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>(str).get()] == NSOrderedDescending; }
<a name="l00258"></a><a class="code" href="class_o_o_string.html#9cdd07717a12b84e5774d662eb1fcabc">00258</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#9cdd07717a12b84e5774d662eb1fcabc">operator &lt;= </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt; </a>( str ); }
<a name="l00259"></a><a class="code" href="class_o_o_string.html#5fd62a9a68b80b0199b5121ff7c039c0">00259</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( NSString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() isEqualToString:str]; }
<a name="l00260"></a><a class="code" href="class_o_o_string.html#408bb466a4d1d3dbc4cb64bc941864e5">00260</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#5a9b908a7fffee05af8a7aea6cd2a94e">operator != </a>( NSString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( str ); }
<a name="l00261"></a><a class="code" href="class_o_o_string.html#876f1e10e6585bd820a23631705ca44c">00261</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt;  </a>( NSString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:str] == NSOrderedAscending; }
<a name="l00262"></a><a class="code" href="class_o_o_string.html#dcc04b16b6478e65ed13e71b245b2f70">00262</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#7c3e3188c8ba75fa34fd31b183879d94">operator &gt;= </a>( NSString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt; </a>( str ); }
<a name="l00263"></a><a class="code" href="class_o_o_string.html#28f155a2daab85ff40a478ceadda8dc1">00263</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt;  </a>( NSString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:str] == NSOrderedDescending; }
<a name="l00264"></a><a class="code" href="class_o_o_string.html#f400c69f105d72287db619a9ea97b73e">00264</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#9cdd07717a12b84e5774d662eb1fcabc">operator &lt;= </a>( NSString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt; </a>( str ); }
<a name="l00265"></a><a class="code" href="class_o_o_string.html#9fa173fd323cf1cb5fea224787f004a3">00265</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( NSMutableString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() isEqualToString:str]; }
<a name="l00266"></a><a class="code" href="class_o_o_string.html#29286d63e1e6905edc1f546fce435ec8">00266</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#5a9b908a7fffee05af8a7aea6cd2a94e">operator != </a>( NSMutableString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( str ); }
<a name="l00267"></a><a class="code" href="class_o_o_string.html#c04d251903996228388449bd012fd006">00267</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt;  </a>( NSMutableString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:str] == NSOrderedAscending; }
<a name="l00268"></a><a class="code" href="class_o_o_string.html#de4f663ec3c408c23ef443baf9e8e091">00268</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#7c3e3188c8ba75fa34fd31b183879d94">operator &gt;= </a>( NSMutableString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt; </a>( str ); }
<a name="l00269"></a><a class="code" href="class_o_o_string.html#ee4c915ec079c1170869ef505c67b1e2">00269</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt;  </a>( NSMutableString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:str] == NSOrderedDescending; }
<a name="l00270"></a><a class="code" href="class_o_o_string.html#050df70713ee64b49327823d5732c38a">00270</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#9cdd07717a12b84e5774d662eb1fcabc">operator &lt;= </a>( NSMutableString *str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt; </a>( str ); }
<a name="l00271"></a><a class="code" href="class_o_o_string.html#cea163e1923f53a54fdf96f0d8b0a275">00271</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() isEqualToString:str.get()]; }
<a name="l00272"></a><a class="code" href="class_o_o_string.html#4e509eda0c75ba90c43fa1c3086d40f9">00272</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#5a9b908a7fffee05af8a7aea6cd2a94e">operator != </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#2295e8ecb519c1ba110bec194b6b7d91">operator == </a>( str ); }
<a name="l00273"></a><a class="code" href="class_o_o_string.html#d9e8f2956be02c1d8fe453d14d54a46d">00273</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt;  </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:str.get()] == NSOrderedAscending; }
<a name="l00274"></a><a class="code" href="class_o_o_string.html#54752aed19be16a36f656109edb8e991">00274</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#7c3e3188c8ba75fa34fd31b183879d94">operator &gt;= </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#819e08b8bbc62d7e4212fbec570846e2">operator &lt; </a>( str ); }
<a name="l00275"></a><a class="code" href="class_o_o_string.html#6be68e485730f6a8b2598534a4b3a8f8">00275</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt;  </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() caseInsensitiveCompare:str.get()] == NSOrderedDescending; }
<a name="l00276"></a><a class="code" href="class_o_o_string.html#1a7184b66dec74f96ab03accf854ec64">00276</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_string.html#9cdd07717a12b84e5774d662eb1fcabc">operator &lt;= </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="class_o_o_string.html#1429a87b666481f6f3b65dfa8ff96acc">operator &gt; </a>( str ); }
<a name="l00277"></a>00277     
<a name="l00278"></a>00278     <span class="comment">// append string</span>
<a name="l00279"></a><a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">00279</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keywordtype">int</span> val )<span class="keyword"> const </span>{
<a name="l00280"></a>00280         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_reference.html#b0a07a11b99b035e16cc1d755fa48423">noalloc</a>() stringByAppendingFormat:<span class="stringliteral">@"%d"</span>, val];
<a name="l00281"></a>00281     }
<a name="l00282"></a><a class="code" href="class_o_o_string.html#7d1af3a789bd89c1aa892a59d6b43aa9">00282</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keywordtype">float</span> val )<span class="keyword"> const </span>{
<a name="l00283"></a>00283         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_reference.html#b0a07a11b99b035e16cc1d755fa48423">noalloc</a>() stringByAppendingFormat:<span class="stringliteral">@"%f"</span>, val];
<a name="l00284"></a>00284     }   
<a name="l00285"></a><a class="code" href="class_o_o_string.html#baf89e753155ddcf881abf020ecee870">00285</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keywordtype">double</span> val )<span class="keyword"> const </span>{
<a name="l00286"></a>00286         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_reference.html#b0a07a11b99b035e16cc1d755fa48423">noalloc</a>() stringByAppendingFormat:<span class="stringliteral">@"%f"</span>, val];
<a name="l00287"></a>00287     }   
<a name="l00288"></a><a class="code" href="class_o_o_string.html#cdcbeacc76790b09c994f70d09d9ae58">00288</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{
<a name="l00289"></a>00289         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( str.get() );
<a name="l00290"></a>00290     }   
<a name="l00291"></a><a class="code" href="class_o_o_string.html#2ccd1f637fc326a50658b3d29afe2d6d">00291</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keyword">const</span> OOArraySub&lt;OOString&gt; &amp;str )<span class="keyword"> const </span>{
<a name="l00292"></a>00292         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( str.get() );
<a name="l00293"></a>00293     }   
<a name="l00294"></a><a class="code" href="class_o_o_string.html#7d432c193f0cd6480b06d884d103108f">00294</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keyword">const</span> OODictionarySub&lt;OOString&gt; &amp;str )<span class="keyword"> const </span>{
<a name="l00295"></a>00295         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( str.get() );
<a name="l00296"></a>00296     }   
<a name="l00297"></a><a class="code" href="class_o_o_string.html#f24cfdafec0ae535a9342643c499dd1f">00297</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keyword">const</span> OOArraySub&lt;NSString *&gt; &amp;str )<span class="keyword"> const </span>{
<a name="l00298"></a>00298         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( str.get() );
<a name="l00299"></a>00299     }   
<a name="l00300"></a><a class="code" href="class_o_o_string.html#cb42e3fbf0e0471186d049fa742b3b66">00300</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( <span class="keyword">const</span> OODictionarySub&lt;NSString *&gt; &amp;str )<span class="keyword"> const </span>{
<a name="l00301"></a>00301         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( str.get() );
<a name="l00302"></a>00302     }   
<a name="l00303"></a><a class="code" href="class_o_o_string.html#9a83188f82c16b7cc623c17f4f3f0abd">00303</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#1683b4bd17ccf22b3a3400e924f953b0">operator + </a>( NSString *str )<span class="keyword"> const </span>{
<a name="l00304"></a>00304         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_reference.html#b0a07a11b99b035e16cc1d755fa48423">noalloc</a>() stringByAppendingString:str?str:<span class="stringliteral">@"&lt;nil&gt;"</span>];
<a name="l00305"></a>00305     }
<a name="l00306"></a>00306     
<a name="l00307"></a>00307     <span class="comment">// remove string</span>
<a name="l00308"></a><a class="code" href="class_o_o_string.html#c45ae00e3c4bae82c2c92e8c266eba0b">00308</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#c45ae00e3c4bae82c2c92e8c266eba0b">operator - </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val )<span class="keyword"> const </span>{
<a name="l00309"></a>00309         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#c45ae00e3c4bae82c2c92e8c266eba0b">operator - </a>( <a class="code" href="class_o_o_string.html#e49d7b6fd194cfd712430deda9a8bd2d">OOString</a>( val ).<span class="keyword">get</span>() );
<a name="l00310"></a>00310     }   
<a name="l00311"></a><a class="code" href="class_o_o_string.html#ae210c5a9d77023e726f918a80555534">00311</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#c45ae00e3c4bae82c2c92e8c266eba0b">operator - </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{
<a name="l00312"></a>00312         <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html#c45ae00e3c4bae82c2c92e8c266eba0b">operator - </a>( str.get() );
<a name="l00313"></a>00313     }   
<a name="l00314"></a><a class="code" href="class_o_o_string.html#4d803ae708ab65febb4a14dd8ba68af3">00314</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_string.html#c45ae00e3c4bae82c2c92e8c266eba0b">operator - </a>( NSString *str )<span class="keyword">const </span>{
<a name="l00315"></a>00315         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_reference.html#b0a07a11b99b035e16cc1d755fa48423">noalloc</a>() stringByReplacingOccurrencesOfString:str withString:<span class="stringliteral">@""</span>];
<a name="l00316"></a>00316     }
<a name="l00317"></a>00317     
<a name="l00318"></a>00318     <span class="comment">// split by str</span>
<a name="l00319"></a><a class="code" href="class_o_o_string.html#a111293d4071d0bc22b0c506c1822c56">00319</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="class_o_o_string.html#a111293d4071d0bc22b0c506c1822c56">operator / </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;sep )<span class="keyword"> const </span>{
<a name="l00320"></a>00320         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_reference.html#b0a07a11b99b035e16cc1d755fa48423">noalloc</a>() componentsSeparatedByString:sep];
<a name="l00321"></a>00321     }
<a name="l00322"></a>00322     
<a name="l00323"></a>00323     <span class="comment">// index into string by character number or perform search</span>
<a name="l00324"></a><a class="code" href="class_o_o_string.html#035c785fc967f0ba7b9f969f0d253b15">00324</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub <a class="code" href="class_o_o_string.html#035c785fc967f0ba7b9f969f0d253b15">operator [] </a>( <span class="keywordtype">int</span> sub )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> OOStringSub( <span class="keyword">get</span>(), sub ); }
<a name="l00325"></a><a class="code" href="class_o_o_string.html#6b9711f23c6a0b7e292b69224de70a94">00325</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OOStringSub <a class="code" href="class_o_o_string.html#035c785fc967f0ba7b9f969f0d253b15">operator [] </a>( <span class="keyword">const</span> NSRange &amp;sub )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> OOStringSub( <span class="keyword">get</span>(), sub ); }
<a name="l00326"></a><a class="code" href="class_o_o_string.html#bf36b58d2726a999720b3328fc04ed6d">00326</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string_search.html">OOStringSearch</a> <a class="code" href="class_o_o_string.html#035c785fc967f0ba7b9f969f0d253b15">operator [] </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;sub )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_o_o_string_search.html">OOStringSearch</a>( <span class="keyword">get</span>(), sub ); }
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     <span class="comment">// for pattern matching - see below...</span>
<a name="l00329"></a>00329 };
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="comment">// replicate string </span>
<a name="l00332"></a><a class="code" href="objstr_8h.html#3c69ced2c0e8db446b161140c8f42e40">00332</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objcpp_8h.html#e90a5c829d857224b50dd5736c132e45">operator * </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keywordtype">int</span> count ) {
<a name="l00333"></a>00333     <a class="code" href="class_o_o_string.html">OOString</a> out = <span class="stringliteral">""</span>;
<a name="l00334"></a>00334     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0 ; i&lt;count ; i++ )
<a name="l00335"></a>00335         out += str;
<a name="l00336"></a>00336     <span class="keywordflow">return</span> out;
<a name="l00337"></a>00337 }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ETYPE&gt;
<a name="l00341"></a><a class="code" href="class_o_o_array.html#31b92383c51d9e2986f9f058f01701c8">00341</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_array.html#31b92383c51d9e2986f9f058f01701c8">OOArray&lt;ETYPE&gt;::join</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;sep )<span class="keyword"> const </span>{ 
<a name="l00342"></a>00342     <a class="code" href="class_o_o_string.html">OOString</a> out = <span class="stringliteral">""</span>;
<a name="l00343"></a>00343     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0 ; i&lt;*this ; i++ ) {
<a name="l00344"></a>00344         <span class="keywordflow">if</span> ( i )
<a name="l00345"></a>00345             out += sep;
<a name="l00346"></a>00346         out += (*this)[i];
<a name="l00347"></a>00347     }
<a name="l00348"></a>00348     <span class="keywordflow">return</span> out;
<a name="l00349"></a>00349 }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ETYPE&gt;
<a name="l00352"></a><a class="code" href="objstr_8h.html#5df653918f28ef40a5688236c6321f8b">00352</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objcpp_8h.html#794e01a41349fac2e504f2761fc1312b">operator / </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_array.html">OOArray&lt;ETYPE&gt;</a> &amp;left, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;sep ) {
<a name="l00353"></a>00353     <span class="keywordflow">return</span> left.<a class="code" href="class_o_o_array.html#31b92383c51d9e2986f9f058f01701c8">join</a>( sep );
<a name="l00354"></a>00354 }
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ETYPE&gt;
<a name="l00357"></a><a class="code" href="class_o_o_array.html#b6fa91d63af008e4a68c8a51c52a635f">00357</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_array.html">OOArray&lt;ETYPE&gt;</a> &amp;<a class="code" href="class_o_o_array.html#6dd4926a7a5925c1f88f04b2a6367273">OOArray&lt;ETYPE&gt;::operator = </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val ) { *<span class="keyword">this</span> = *(<a class="code" href="class_o_o_string.html">OOString</a>(val) / <span class="stringliteral">@" "</span>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00358"></a>00358 
<a name="l00359"></a>00359 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ETYPE&gt;
<a name="l00360"></a><a class="code" href="class_o_o_dictionary.html#61a98af7d0cd24295b3ad8dead26d1ea">00360</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_dictionary.html">OODictionary&lt;ETYPE&gt;</a> &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">OODictionary&lt;ETYPE&gt;::operator = </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *val ) { *<span class="keyword">this</span> = *(<a class="code" href="class_o_o_string.html">OOString</a>(val) / <span class="stringliteral">@" "</span>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ETYPE&gt;
<a name="l00363"></a><a class="code" href="class_o_o_dictionary.html#0fc8d06194d06f65e95279e404dd8a17">00363</a> <span class="keyword">inline</span> OODictionarySub&lt;ETYPE&gt; <a class="code" href="class_o_o_dictionary.html#5ba86bc1c1ab7950a1abf26aff0d08a9">OODictionary&lt;ETYPE&gt;::operator [] </a>( <span class="keyword">const</span> OOArraySub&lt;OOString&gt; &amp;sub )<span class="keyword"> const </span>{
<a name="l00364"></a>00364     <span class="keywordflow">return</span> OODictionarySub&lt;ETYPE&gt;( <span class="keyword">this</span>, sub.get() );
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ETYPE&gt;
<a name="l00368"></a><a class="code" href="class_o_o_dictionary.html#2f6c4f1007c7ea43c2bf7e705b5c2310">00368</a> <span class="keyword">inline</span> OODictionarySub&lt;ETYPE&gt; <a class="code" href="class_o_o_dictionary.html#5ba86bc1c1ab7950a1abf26aff0d08a9">OODictionary&lt;ETYPE&gt;::operator [] </a>( <span class="keyword">const</span> OODictionarySub&lt;OOString&gt; &amp;sub )<span class="keyword"> const </span>{
<a name="l00369"></a>00369     <span class="keywordflow">return</span> OODictionarySub&lt;ETYPE&gt;( <span class="keyword">this</span>, sub.get() );
<a name="l00370"></a>00370 }
<a name="l00371"></a>00371 
<a name="l00372"></a><a class="code" href="objstr_8h.html#8e1e2c47d6a4fde1f4bafd0f8a48b6f0">00372</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#8e1e2c47d6a4fde1f4bafd0f8a48b6f0">operator + </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *left, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;right ) { <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html">OOString</a>( left )+right; }
<a name="l00373"></a><a class="code" href="objstr_8h.html#b036b78fc7c5dee793f2d4aae56bf07d">00373</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#8e1e2c47d6a4fde1f4bafd0f8a48b6f0">operator + </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *left, <span class="keyword">const</span> OOArraySub&lt;OOString&gt; &amp;right ) { <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html">OOString</a>( left )+*right; }
<a name="l00374"></a><a class="code" href="objstr_8h.html#f481566b6465535f8a19a82ffc1ccb51">00374</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#8e1e2c47d6a4fde1f4bafd0f8a48b6f0">operator + </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *left, <span class="keyword">const</span> OODictionarySub&lt;OOString&gt; &amp;right ) { <span class="keywordflow">return</span> <a class="code" href="class_o_o_string.html">OOString</a>( left )+*right; }
<a name="l00375"></a>00375 
<a name="l00376"></a><a class="code" href="objstr_8h.html#4495c552942a75b632da3ba3bdeee118">00376</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#4495c552942a75b632da3ba3bdeee118">operator || </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;left, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;right ) { <span class="keywordflow">return</span> !left ? right : left; }
<a name="l00377"></a><a class="code" href="objstr_8h.html#6e16ce613bb043860b5e941fccbc4d21">00377</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#4495c552942a75b632da3ba3bdeee118">operator || </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;left, <span class="keyword">const</span> <span class="keywordtype">char</span> *right ) { <span class="keywordflow">return</span> left || <a class="code" href="class_o_o_string.html">OOString</a>( right ); }
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keyword">static</span> NSMutableString *OOFormat( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;format, ... ) {
<a name="l00380"></a>00380     va_list argp;
<a name="l00381"></a>00381     va_start(argp, format);
<a name="l00382"></a>00382     NSString *str = [[NSMutableString alloc] initWithFormat:format arguments:argp];
<a name="l00383"></a>00383     va_end( argp ); 
<a name="l00384"></a>00384     <span class="keywordflow">return</span> [str autorelease];
<a name="l00385"></a>00385 }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">/*=================================================================================*/</span>
<a name="l00388"></a>00388 <span class="comment">/*================================ Pattern matching classes =======================*/</span>
<a name="l00389"></a>00389 
<a name="l00390"></a>00390 <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00391"></a>00391 <span class="preprocessor">#include &lt;regex.h&gt;</span>
<a name="l00392"></a>00392 }
<a name="l00393"></a>00393 <span class="comment"></span>
<a name="l00394"></a>00394 <span class="comment">/**</span>
<a name="l00395"></a>00395 <span class="comment"> A class to represent a patten matching operations against a string.</span>
<a name="l00396"></a>00396 <span class="comment"> </span>
<a name="l00397"></a>00397 <span class="comment"> Usage:</span>
<a name="l00398"></a>00398 <span class="comment"> &lt;pre&gt;</span>
<a name="l00399"></a>00399 <span class="comment">OOStringArray words = OOPattern( @"\\w+" ).match();</span>
<a name="l00400"></a>00400 <span class="comment"> &lt;/pre&gt;</span>
<a name="l00401"></a>00401 <span class="comment"> */</span>
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="class_o_o_pattern.html">00403</a> <span class="keyword">class </span><a class="code" href="class_o_o_pattern.html">OOPattern</a> {
<a name="l00404"></a><a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">00404</a>     <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">pat</a>;
<a name="l00405"></a>00405 <span class="keyword">public</span>:
<a name="l00406"></a><a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">00406</a>     regex_t *<a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>;
<a name="l00407"></a>00407     
<a name="l00408"></a><a class="code" href="class_o_o_pattern.html#0657c363b34e38936b25f7ee832f6ce7">00408</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pattern.html#0657c363b34e38936b25f7ee832f6ce7">OOPattern</a>() {}
<a name="l00409"></a><a class="code" href="class_o_o_pattern.html#4b613de65143c8f6337e135735a02043">00409</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pattern.html#4b613de65143c8f6337e135735a02043">OOPattern</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;patin, <span class="keywordtype">int</span> flags = REG_EXTENDED ) { <a class="code" href="class_o_o_pattern.html#d008d197424007ccb30141f0ea686d20">init</a>( patin, flags ); }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">void</span> <a class="code" href="class_o_o_pattern.html#d008d197424007ccb30141f0ea686d20">init</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;patin, <span class="keywordtype">int</span> flags );
<a name="l00412"></a><a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">00412</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">int</span> <a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">exec</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *input, <span class="keywordtype">int</span> matchmax = 0, regmatch_t matches[] = NULL, <span class="keywordtype">int</span> eflags = 0 )<span class="keyword"> const </span>{
<a name="l00413"></a>00413         <span class="keywordtype">int</span> error = regexec( <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>, input, matchmax, matches, eflags );
<a name="l00414"></a>00414         <span class="keywordflow">if</span> ( error &amp;&amp; error != REG_NOMATCH ) {
<a name="l00415"></a>00415             <span class="keywordtype">char</span> errbuff[1024];
<a name="l00416"></a>00416             regerror( error, <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>, errbuff, <span class="keyword">sizeof</span> errbuff );
<a name="l00417"></a>00417             <a class="code" href="objcpp_8h.html#0647b5b82106e1568ba608021c7fc16e">OOWarn</a>( <span class="stringliteral">@"OOPattern::exec() Regex match error: %s, in pattern'%@'"</span>, errbuff, *<a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">pat</a> );
<a name="l00418"></a>00418         }
<a name="l00419"></a>00419         <span class="keywordflow">return</span> error == 0;
<a name="l00420"></a>00420     }
<a name="l00421"></a>00421 
<a name="l00422"></a><a class="code" href="class_o_o_pattern.html#cca1d3626cdd6fe25d894b3d373950b1">00422</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">int</span> <a class="code" href="class_o_o_pattern.html#cca1d3626cdd6fe25d894b3d373950b1">find</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *input, <span class="keywordtype">int</span> matchmax, regmatch_t matches[] )<span class="keyword"> const </span>{
<a name="l00423"></a>00423         <span class="keywordtype">int</span> nmatches = 0;
<a name="l00424"></a>00424         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> pos = 0 ; <a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">exec</a>( input+pos, matchmax-nmatches, matches+nmatches ) ; nmatches++ ) {
<a name="l00425"></a>00425             matches[nmatches].rm_so += pos;
<a name="l00426"></a>00426             pos = matches[nmatches].rm_eo += pos;
<a name="l00427"></a>00427         }
<a name="l00428"></a>00428         <span class="keywordflow">return</span> nmatches;
<a name="l00429"></a>00429     }
<a name="l00430"></a><a class="code" href="class_o_o_pattern.html#0b5dec7bd57e4946a412dfeb6c9013f6">00430</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="class_o_o_pattern.html#0b5dec7bd57e4946a412dfeb6c9013f6">split</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{
<a name="l00431"></a>00431         regmatch_t matches[100];
<a name="l00432"></a>00432         <span class="keyword">const</span> <span class="keywordtype">char</span> *input = str;
<a name="l00433"></a>00433         <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> out;
<a name="l00434"></a>00434         
<a name="l00435"></a>00435         <span class="keywordflow">for</span> ( ; <a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">exec</a>( input, <span class="keyword">sizeof</span> matches/<span class="keyword">sizeof</span> matches[0], matches ) ; input += matches[0].rm_eo )
<a name="l00436"></a>00436             out += <a class="code" href="class_o_o_string.html">OOString</a>( input, matches[0].rm_so ); 
<a name="l00437"></a>00437         out += <a class="code" href="class_o_o_string.html">OOString</a>( input );
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         <span class="keywordflow">return</span> out;
<a name="l00440"></a>00440     }
<a name="l00441"></a><a class="code" href="class_o_o_pattern.html#74e77d7f76f8ceba18e0fd855574098d">00441</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="class_o_o_pattern.html#74e77d7f76f8ceba18e0fd855574098d">match</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{
<a name="l00442"></a>00442         regmatch_t matches[100];
<a name="l00443"></a>00443         <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> out;
<a name="l00444"></a>00444         
<a name="l00445"></a>00445         <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *input = str ; <a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">exec</a>( input, <span class="keyword">sizeof</span> matches/<span class="keyword">sizeof</span> matches[0], matches ) ; input += matches[0].rm_eo )
<a name="l00446"></a>00446             out += <a class="code" href="class_o_o_string.html">OOString</a>( input+matches[0].rm_so, matches[0].rm_eo-matches[0].rm_so );   
<a name="l00447"></a>00447 
<a name="l00448"></a>00448         <span class="keywordflow">return</span> out;
<a name="l00449"></a>00449     }
<a name="l00450"></a><a class="code" href="class_o_o_pattern.html#9f370166f73d369d2051a696d455585d">00450</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="class_o_o_pattern.html#9f370166f73d369d2051a696d455585d">parse</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str )<span class="keyword"> const </span>{
<a name="l00451"></a>00451         regmatch_t matches[100];
<a name="l00452"></a>00452         <span class="keyword">const</span> <span class="keywordtype">char</span> *input = str;
<a name="l00453"></a>00453         <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> out;
<a name="l00454"></a>00454         
<a name="l00455"></a>00455         <span class="keywordflow">if</span> ( <a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">exec</a>( input, <span class="keyword">sizeof</span> matches/<span class="keyword">sizeof</span> matches[0], matches ) )
<a name="l00456"></a>00456             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0 ; i&lt;=<a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>-&gt;re_nsub ; i++ )
<a name="l00457"></a>00457                 out += matches[i].rm_so == -1 ? <a class="code" href="class_o_o_string.html">OOString</a>( kCFNull ) :
<a name="l00458"></a>00458                 <a class="code" href="class_o_o_string.html">OOString</a>( input+matches[i].rm_so, matches[i].rm_eo-matches[i].rm_so );
<a name="l00459"></a>00459 
<a name="l00460"></a>00460         <span class="keywordflow">return</span> out;
<a name="l00461"></a>00461     }
<a name="l00462"></a>00462 };
<a name="l00463"></a>00463 
<a name="l00464"></a><a class="code" href="objstr_8h.html#471227da86a6f40486cfa43d0e4ea880">00464</a> <span class="keyword">inline</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="objstr_8h.html#471227da86a6f40486cfa43d0e4ea880">operator &amp; </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_pattern.html">OOPattern</a> &amp;pattern ) { <span class="keywordflow">return</span> pattern.<a class="code" href="class_o_o_pattern.html#74e77d7f76f8ceba18e0fd855574098d">match</a>( str ); }
<a name="l00465"></a><a class="code" href="objstr_8h.html#c13bed0755fd34e4cf383a2c7ec249d3">00465</a> <span class="keyword">inline</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="objstr_8h.html#471227da86a6f40486cfa43d0e4ea880">operator &amp; </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_pattern.html">OOPattern</a> *pattern ) { <span class="keywordflow">return</span> pattern-&gt;<a class="code" href="class_o_o_pattern.html#74e77d7f76f8ceba18e0fd855574098d">match</a>( str ); }
<a name="l00466"></a><a class="code" href="objstr_8h.html#46e306be37d5d49fb0d93842c921a0aa">00466</a> <span class="keyword">inline</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="objstr_8h.html#471227da86a6f40486cfa43d0e4ea880">operator &amp; </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a>  &amp;patexpr ) { <span class="keywordflow">return</span> str &amp; <a class="code" href="class_o_o_pattern.html">OOPattern</a>( patexpr ); }
<a name="l00467"></a>00467 
<a name="l00468"></a><a class="code" href="objstr_8h.html#4fe86ef2a2164d76eb8a078a882a55f0">00468</a> <span class="keyword">inline</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="objstr_8h.html#4fe86ef2a2164d76eb8a078a882a55f0">operator ^ </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_pattern.html">OOPattern</a> &amp;pattern ) { <span class="keywordflow">return</span> pattern.<a class="code" href="class_o_o_pattern.html#9f370166f73d369d2051a696d455585d">parse</a>( str ); }
<a name="l00469"></a><a class="code" href="objstr_8h.html#863097e029280e84a367598d540a5764">00469</a> <span class="keyword">inline</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="objstr_8h.html#4fe86ef2a2164d76eb8a078a882a55f0">operator ^ </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_pattern.html">OOPattern</a> *pattern ) { <span class="keywordflow">return</span> pattern-&gt;<a class="code" href="class_o_o_pattern.html#9f370166f73d369d2051a696d455585d">parse</a>( str ); }
<a name="l00470"></a><a class="code" href="objstr_8h.html#7b336060886b37cd7de95af1cbca75a7">00470</a> <span class="keyword">inline</span> <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> <a class="code" href="objstr_8h.html#4fe86ef2a2164d76eb8a078a882a55f0">operator ^ </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a>  &amp;patexpr ) { <span class="keywordflow">return</span> str ^ <a class="code" href="class_o_o_pattern.html">OOPattern</a>( patexpr ); }
<a name="l00471"></a>00471 <span class="comment"></span>
<a name="l00472"></a>00472 <span class="comment">/**</span>
<a name="l00473"></a>00473 <span class="comment"> A class to represent a match and replace operations against a string.</span>
<a name="l00474"></a>00474 <span class="comment"> </span>
<a name="l00475"></a>00475 <span class="comment"> Usage:</span>
<a name="l00476"></a>00476 <span class="comment"> &lt;pre&gt;</span>
<a name="l00477"></a>00477 <span class="comment"> OOString quoted = OOReplace( @"/(\\w+)/'$1'/" ).exec();</span>
<a name="l00478"></a>00478 <span class="comment"> &lt;/pre&gt;</span>
<a name="l00479"></a>00479 <span class="comment"> */</span>
<a name="l00480"></a>00480 
<a name="l00481"></a><a class="code" href="class_o_o_replace.html">00481</a> <span class="keyword">class </span><a class="code" href="class_o_o_replace.html">OOReplace</a> {
<a name="l00482"></a><a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">00482</a>     regmatch_t <a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a>[100];
<a name="l00483"></a><a class="code" href="class_o_o_replace.html#1c1a6e6b57e827bbd15c7a2e96821de7">00483</a>     <a class="code" href="class_o_o_pattern.html">OOPattern</a> <a class="code" href="class_o_o_replace.html#1c1a6e6b57e827bbd15c7a2e96821de7">pattern</a>;
<a name="l00484"></a><a class="code" href="class_o_o_replace.html#803f0ea72a8db39524146ae9f4b76556">00484</a>     <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_replace.html#803f0ea72a8db39524146ae9f4b76556">replace</a>;
<a name="l00485"></a><a class="code" href="class_o_o_replace.html#b327031df01a2b17162ae928ffec8d86">00485</a>     <span class="keywordtype">int</span> <a class="code" href="class_o_o_replace.html#b327031df01a2b17162ae928ffec8d86">dcount</a>;
<a name="l00486"></a>00486 
<a name="l00487"></a>00487 <span class="keyword">public</span>:
<a name="l00488"></a><a class="code" href="class_o_o_replace.html#ed7c9a2a74058e9c8e3e1bf262193859">00488</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_replace.html#ed7c9a2a74058e9c8e3e1bf262193859">OOReplace</a>() {}
<a name="l00489"></a><a class="code" href="class_o_o_replace.html#2a776f8c7ab1878579f7657397748e11">00489</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_replace.html#2a776f8c7ab1878579f7657397748e11">OOReplace</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;expr ) {
<a name="l00490"></a>00490         <a class="code" href="class_o_o_replace.html#5ed031169030a1980a8a1dc068d7f01c">init</a>( expr );
<a name="l00491"></a>00491     }
<a name="l00492"></a><a class="code" href="class_o_o_replace.html#2e6b72c760952f1cd03eeb2aaf10f388">00492</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_replace.html#2e6b72c760952f1cd03eeb2aaf10f388">OOReplace</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;pat, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;rep, <span class="keywordtype">int</span> flags ) {
<a name="l00493"></a>00493         <a class="code" href="class_o_o_replace.html#5ed031169030a1980a8a1dc068d7f01c">init</a>( pat, rep, flags );
<a name="l00494"></a>00494     }
<a name="l00495"></a>00495 
<a name="l00496"></a><a class="code" href="class_o_o_replace.html#5ed031169030a1980a8a1dc068d7f01c">00496</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">void</span> <a class="code" href="class_o_o_replace.html#5ed031169030a1980a8a1dc068d7f01c">init</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;expr ) {
<a name="l00497"></a>00497         <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> split = expr / expr[NSMakeRange(0,1)];
<a name="l00498"></a>00498         <span class="keywordtype">int</span> flags = REG_EXTENDED;
<a name="l00499"></a>00499         
<a name="l00500"></a>00500         <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *options = *split[3] ; *options ; options++ )
<a name="l00501"></a>00501             <span class="keywordflow">switch</span> ( *options ) {
<a name="l00502"></a>00502                 <span class="keywordflow">case</span> <span class="charliteral">'i'</span>: flags |= REG_ICASE; <span class="keywordflow">break</span>;
<a name="l00503"></a>00503                 <span class="keywordflow">case</span> <span class="charliteral">'m'</span>: flags |= REG_NEWLINE; <span class="keywordflow">break</span>;
<a name="l00504"></a>00504             }
<a name="l00505"></a>00505         
<a name="l00506"></a>00506         <a class="code" href="class_o_o_replace.html#5ed031169030a1980a8a1dc068d7f01c">init</a>( split[1], split[2], flags );
<a name="l00507"></a>00507     }
<a name="l00508"></a><a class="code" href="class_o_o_replace.html#f0e525815e9340d7c336ba986660696c">00508</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">void</span> <a class="code" href="class_o_o_replace.html#f0e525815e9340d7c336ba986660696c">init</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;pat, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;rep, <span class="keywordtype">int</span> flags ) {
<a name="l00509"></a>00509         <a class="code" href="class_o_o_replace.html#1c1a6e6b57e827bbd15c7a2e96821de7">pattern</a>.<a class="code" href="class_o_o_pattern.html#d008d197424007ccb30141f0ea686d20">init</a>( pat, flags );
<a name="l00510"></a>00510         <a class="code" href="class_o_o_replace.html#803f0ea72a8db39524146ae9f4b76556">replace</a> &lt;&lt;= rep;
<a name="l00511"></a>00511 
<a name="l00512"></a>00512         <span class="keyword">static</span> <a class="code" href="class_o_o_pattern.html">OOPattern</a> *dollarPattern;
<a name="l00513"></a>00513         <span class="keywordflow">if</span> ( !dollarPattern )
<a name="l00514"></a>00514             dollarPattern = <span class="keyword">new</span> <a class="code" href="class_o_o_pattern.html">OOPattern</a>( <span class="stringliteral">"\\\\\\$|\\$[[:digit:]]+|\\${[[:digit:]]+}"</span>, REG_EXTENDED );
<a name="l00515"></a>00515 
<a name="l00516"></a>00516         <a class="code" href="class_o_o_replace.html#b327031df01a2b17162ae928ffec8d86">dcount</a> = dollarPattern-&gt;<a class="code" href="class_o_o_pattern.html#cca1d3626cdd6fe25d894b3d373950b1">find</a>( <a class="code" href="class_o_o_replace.html#803f0ea72a8db39524146ae9f4b76556">replace</a>, <span class="keyword">sizeof</span> <a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a> / <span class="keyword">sizeof</span> <a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a>[0], <a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a> );
<a name="l00517"></a>00517     }
<a name="l00518"></a>00518 
<a name="l00519"></a><a class="code" href="class_o_o_replace.html#d2f62426c60679b13809ae10e0fa606d">00519</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_replace.html#d2f62426c60679b13809ae10e0fa606d">exec</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *input )<span class="keyword"> const </span>{
<a name="l00520"></a>00520         <span class="keyword">const</span> <span class="keywordtype">char</span> *dstr = <a class="code" href="class_o_o_replace.html#803f0ea72a8db39524146ae9f4b76556">replace</a>;
<a name="l00521"></a>00521         regmatch_t matches[100];
<a name="l00522"></a>00522         <a class="code" href="class_o_o_string.html">OOString</a> out;
<a name="l00523"></a>00523         
<a name="l00524"></a>00524         <span class="keywordflow">for</span> ( ; <a class="code" href="class_o_o_replace.html#1c1a6e6b57e827bbd15c7a2e96821de7">pattern</a>.<a class="code" href="class_o_o_pattern.html#fd9a61dabe297bc7b5a6418742385487">exec</a>( input, <span class="keyword">sizeof</span> matches / <span class="keyword">sizeof</span> matches[0], matches ) ; input += matches[0].rm_eo ) {
<a name="l00525"></a>00525             out += <a class="code" href="class_o_o_string.html">OOString</a>( input, matches[0].rm_so );
<a name="l00526"></a>00526             <span class="keywordtype">int</span> pos = 0;
<a name="l00527"></a>00527             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> d=0 ; d&lt;<a class="code" href="class_o_o_replace.html#b327031df01a2b17162ae928ffec8d86">dcount</a> ; d++ ) {
<a name="l00528"></a>00528                 out += <a class="code" href="class_o_o_string.html">OOString</a>( dstr+pos, <a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a>[d].rm_so-pos );
<a name="l00529"></a>00529                 <span class="keyword">const</span> <span class="keywordtype">char</span> *vptr = dstr+<a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a>[d].rm_so+1; 
<a name="l00530"></a>00530                 <span class="keywordtype">int</span> v = atoi( *vptr == <span class="charliteral">'{'</span> ? vptr+1 : vptr );
<a name="l00531"></a>00531                 out += *vptr == <span class="charliteral">'$'</span> ? <a class="code" href="class_o_o_string.html">OOString</a>( vptr, 1 ) : <a class="code" href="class_o_o_string.html">OOString</a>( input+matches[v].rm_so, matches[v].rm_eo-matches[v].rm_so );
<a name="l00532"></a>00532                 pos = <a class="code" href="class_o_o_replace.html#6839f6d418ce7e23bc031197bb43c84a">dmatches</a>[d].rm_eo;
<a name="l00533"></a>00533             }
<a name="l00534"></a>00534             out += <a class="code" href="class_o_o_string.html">OOString</a>( dstr+pos );
<a name="l00535"></a>00535         }
<a name="l00536"></a>00536         
<a name="l00537"></a>00537         <span class="keywordflow">return</span> out += <a class="code" href="class_o_o_string.html">OOString</a>( input );
<a name="l00538"></a>00538     }
<a name="l00539"></a>00539 };
<a name="l00540"></a>00540 
<a name="l00541"></a><a class="code" href="objstr_8h.html#a037df5438c11f46c96b3ffdde8b071b">00541</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#a037df5438c11f46c96b3ffdde8b071b">operator | </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_replace.html">OOReplace</a> &amp;replace ) { <span class="keywordflow">return</span> replace.<a class="code" href="class_o_o_replace.html#d2f62426c60679b13809ae10e0fa606d">exec</a>( str ); }
<a name="l00542"></a><a class="code" href="objstr_8h.html#ea46e184ab6c039fe4d0988ae2f990e4">00542</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#a037df5438c11f46c96b3ffdde8b071b">operator | </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_replace.html">OOReplace</a> *replace ) { <span class="keywordflow">return</span> replace-&gt;<a class="code" href="class_o_o_replace.html#d2f62426c60679b13809ae10e0fa606d">exec</a>( str ); }
<a name="l00543"></a><a class="code" href="objstr_8h.html#b5a287974091788bdf294d8110463054">00543</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="objstr_8h.html#a037df5438c11f46c96b3ffdde8b071b">operator | </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a>  &amp;patrepl ) { <span class="keywordflow">return</span> str | <a class="code" href="class_o_o_replace.html">OOReplace</a>( patrepl ); }
<a name="l00544"></a>00544 
<a name="l00545"></a><a class="code" href="objstr_8h.html#ac8ce4d0d6cc67a08bc409e68d09a3fd">00545</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="objstr_8h.html#ac8ce4d0d6cc67a08bc409e68d09a3fd">operator |= </a>( <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_replace.html">OOReplace</a> &amp;replace ) { <span class="keywordflow">return</span> str = str | replace; }
<a name="l00546"></a><a class="code" href="objstr_8h.html#09dfca897dad1c1c7d468a5c28b82219">00546</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="objstr_8h.html#ac8ce4d0d6cc67a08bc409e68d09a3fd">operator |= </a>( <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_replace.html">OOReplace</a> *replace ) { <span class="keywordflow">return</span> str = str | replace; }
<a name="l00547"></a><a class="code" href="objstr_8h.html#7e1f07bf22292a65bf5d1c9607eb0567">00547</a> <span class="keyword">inline</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="objstr_8h.html#ac8ce4d0d6cc67a08bc409e68d09a3fd">operator |= </a>( <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a>  &amp;patrepl ) { <span class="keywordflow">return</span> str = str | patrepl; }
<a name="l00548"></a>00548 <span class="comment"></span>
<a name="l00549"></a>00549 <span class="comment">/**</span>
<a name="l00550"></a>00550 <span class="comment"> A class to represent a C pointer inside an NSValue object for ref counting and</span>
<a name="l00551"></a>00551 <span class="comment"> so it can be stored inside the OSX buffs NSArray, NSDictionary etc.</span>
<a name="l00552"></a>00552 <span class="comment"> </span>
<a name="l00553"></a>00553 <span class="comment"> Usage:</span>
<a name="l00554"></a>00554 <span class="comment"> &lt;pre&gt;</span>
<a name="l00555"></a>00555 <span class="comment"> OOPointer&lt;void *&gt; ptr = malloc(1000);</span>
<a name="l00556"></a>00556 <span class="comment"> void *p = ptr;</span>
<a name="l00557"></a>00557 <span class="comment"> &lt;/pre&gt;</span>
<a name="l00558"></a>00558 <span class="comment"> */</span>
<a name="l00559"></a>00559 
<a name="l00560"></a>00560 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> PTYPE&gt;
<a name="l00561"></a><a class="code" href="class_o_o_pointer.html">00561</a> <span class="keyword">class </span><a class="code" href="class_o_o_pointer.html">OOPointer</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_reference.html">OOReference</a>&lt;NSValue *&gt; {
<a name="l00562"></a><a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">00562</a>     PTYPE <a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">ptr</a>;
<a name="l00563"></a>00563 <span class="keyword">protected</span>:
<a name="l00564"></a><a class="code" href="class_o_o_pointer.html#124a65c53ef939c3ee3f4f96bf5b413d">00564</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> PTYPE <a class="code" href="class_o_o_pointer.html#124a65c53ef939c3ee3f4f96bf5b413d">pget</a>() {
<a name="l00565"></a>00565         <span class="keywordflow">return</span> !*<span class="keyword">this</span> ? NULL : <a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">ptr</a>;
<a name="l00566"></a>00566     }
<a name="l00567"></a><a class="code" href="class_o_o_pointer.html#95f67af8eee4e04a646dd5c14e9451de">00567</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> NSValue *<a class="code" href="class_o_o_pointer.html#95f67af8eee4e04a646dd5c14e9451de">pset</a>( NSValue *val ) {
<a name="l00568"></a>00568         <span class="comment">// recover pointer from NSValue object</span>
<a name="l00569"></a>00569         <span class="keyword">set</span>( val );
<a name="l00570"></a>00570         <a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">ptr</a> = val == (id)kCFNull ? NULL : (PTYPE)[val  pointerValue];
<a name="l00571"></a>00571         <span class="keywordflow">return</span> val;
<a name="l00572"></a>00572     }
<a name="l00573"></a><a class="code" href="class_o_o_pointer.html#804af60573a20e89038e38ab99c80e01">00573</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> PTYPE <a class="code" href="class_o_o_pointer.html#804af60573a20e89038e38ab99c80e01">pset</a>( PTYPE <a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">ptr</a> ) {
<a name="l00574"></a>00574         <span class="comment">// store pointer in NSValue objects so it can be referrence counted</span>
<a name="l00575"></a>00575         [<a class="code" href="class_o_o_pointer.html#95f67af8eee4e04a646dd5c14e9451de">pset</a>( [[NSValue <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithBytes:&amp;ptr objCType:@encode(PTYPE)] ) release];
<a name="l00576"></a>00576         <span class="keywordflow">return</span> ptr;
<a name="l00577"></a>00577     }
<a name="l00578"></a>00578 <span class="keyword">public</span>:
<a name="l00579"></a><a class="code" href="class_o_o_pointer.html#5c8949827363f2a73f331537ace3eb6f">00579</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html#5c8949827363f2a73f331537ace3eb6f">OOPointer</a>() { }
<a name="l00580"></a><a class="code" href="class_o_o_pointer.html#177bcc15e1f93e2de3ac46000560de60">00580</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html#177bcc15e1f93e2de3ac46000560de60">OOPointer</a>( PTYPE <a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">ptr</a> ) { *<span class="keyword">this</span> = ptr; }
<a name="l00581"></a><a class="code" href="class_o_o_pointer.html#4eda14d8f85cd4c4b142804539a5975c">00581</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html#4eda14d8f85cd4c4b142804539a5975c">OOPointer</a>( NSValue *val ) { *<span class="keyword">this</span> = val; }
<a name="l00582"></a><a class="code" href="class_o_o_pointer.html#92ae23725ff578b1290285c8fc57ea40">00582</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html#92ae23725ff578b1290285c8fc57ea40">OOPointer</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_pointer.html">OOPointer</a> &amp;val ) { *<span class="keyword">this</span> = val; }
<a name="l00583"></a>00583     
<a name="l00584"></a><a class="code" href="class_o_o_pointer.html#db94779d9f83990aa5221d0172a6ff14">00584</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html#db94779d9f83990aa5221d0172a6ff14">operator PTYPE </a>() { <span class="keywordflow">return</span> <a class="code" href="class_o_o_pointer.html#124a65c53ef939c3ee3f4f96bf5b413d">pget</a>(); }
<a name="l00585"></a><a class="code" href="class_o_o_pointer.html#c9408a3f10fcd80ad458dfacd1ebe128">00585</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> PTYPE <a class="code" href="class_o_o_pointer.html#c9408a3f10fcd80ad458dfacd1ebe128">operator * </a>() { <span class="keywordflow">return</span> <a class="code" href="class_o_o_pointer.html#124a65c53ef939c3ee3f4f96bf5b413d">pget</a>(); }
<a name="l00586"></a>00586     
<a name="l00587"></a><a class="code" href="class_o_o_pointer.html#244f38576f26725348dce1b175ca7957">00587</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html">OOPointer</a> &amp;<a class="code" href="class_o_o_pointer.html#244f38576f26725348dce1b175ca7957">operator = </a>( PTYPE <a class="code" href="class_o_o_pointer.html#7cf32d8f4f7e0c9ad4730ab01eb4ad82">ptr</a> ) { <a class="code" href="class_o_o_pointer.html#95f67af8eee4e04a646dd5c14e9451de">pset</a>( ptr ); <span class="keywordflow">return</span> *<span class="keyword">this</span>;  }
<a name="l00588"></a><a class="code" href="class_o_o_pointer.html#ce9aff9a2d8fa9d403edbd412fcdaea2">00588</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html">OOPointer</a> &amp;<a class="code" href="class_o_o_pointer.html#244f38576f26725348dce1b175ca7957">operator = </a>( NSValue *val ) { <a class="code" href="class_o_o_pointer.html#95f67af8eee4e04a646dd5c14e9451de">pset</a>( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00589"></a><a class="code" href="class_o_o_pointer.html#1ab21c9ea80960a023d41c1dc2d00d04">00589</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_pointer.html">OOPointer</a> &amp;<a class="code" href="class_o_o_pointer.html#244f38576f26725348dce1b175ca7957">operator = </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_pointer.html">OOPointer</a> &amp;val ) { <a class="code" href="class_o_o_pointer.html#95f67af8eee4e04a646dd5c14e9451de">pset</a>( val.get() ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00590"></a>00590 };
<a name="l00591"></a>00591 
<a name="l00592"></a>00592 <span class="comment"></span>
<a name="l00593"></a>00593 <span class="comment">/**</span>
<a name="l00594"></a>00594 <span class="comment"> Initialisation for OOPattern class. Replaces \[wWdWsS] with character classes </span>
<a name="l00595"></a>00595 <span class="comment">for compatability with perl. All compiled reguar expressions are cached.</span>
<a name="l00596"></a>00596 <span class="comment"> */</span>
<a name="l00597"></a>00597 
<a name="l00598"></a><a class="code" href="class_o_o_pattern.html#d008d197424007ccb30141f0ea686d20">00598</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_o_o_pattern.html#d008d197424007ccb30141f0ea686d20">OOPattern::init</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;patin, <span class="keywordtype">int</span> flags ) {
<a name="l00599"></a>00599     <a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">pat</a> &lt;&lt;= patin;
<a name="l00600"></a>00600     
<a name="l00601"></a>00601     <span class="keyword">static</span> <a class="code" href="class_o_o_dictionary.html">OODictionary&lt;OOPointer&lt;regex_t *&gt;</a> &gt; cache;
<a name="l00602"></a>00602     <span class="keywordflow">if</span> ( !!cache[patin][flags] ) {
<a name="l00603"></a>00603         <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a> = *cache[patin][flags];
<a name="l00604"></a>00604         <span class="keywordflow">return</span>;
<a name="l00605"></a>00605     }
<a name="l00606"></a>00606     
<a name="l00607"></a>00607     <span class="keyword">static</span> BOOL patfix;
<a name="l00608"></a>00608     <span class="keywordflow">if</span> ( !patfix ) {
<a name="l00609"></a>00609         <span class="keyword">static</span> <a class="code" href="class_o_o_replace.html">OOReplace</a> *patternShortcuts;
<a name="l00610"></a>00610         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *shortcuts[] = {
<a name="l00611"></a>00611             <span class="stringliteral">"w/$1[[:alnum:]]/"</span>, <span class="stringliteral">"W/$1[^[:alnum:]]/"</span>,
<a name="l00612"></a>00612             <span class="stringliteral">"d/$1[[:digit:]]/"</span>, <span class="stringliteral">"D/$1[^[:digit:]]/"</span>,
<a name="l00613"></a>00613             <span class="stringliteral">"s/$1[[:space:]]/"</span>, <span class="stringliteral">"S/$1[^[:space:]]/"</span>};
<a name="l00614"></a>00614         <span class="keywordtype">int</span> savefix = patfix, nfixes = <span class="keyword">sizeof</span> shortcuts/<span class="keyword">sizeof</span> *shortcuts;
<a name="l00615"></a>00615         
<a name="l00616"></a>00616         <span class="keywordflow">if</span> ( !patternShortcuts ) {
<a name="l00617"></a>00617             patfix = YES;
<a name="l00618"></a>00618             patternShortcuts = <span class="keyword">new</span> <a class="code" href="class_o_o_replace.html">OOReplace</a>[nfixes];
<a name="l00619"></a>00619             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0 ; i&lt;nfixes ; i++ )
<a name="l00620"></a>00620                 patternShortcuts[i].<a class="code" href="class_o_o_pattern.html#d008d197424007ccb30141f0ea686d20">init</a>( <a class="code" href="class_o_o_string.html">OOString</a>(<span class="stringliteral">"/(^|[^\\\\](\\\\\\\\)*)\\\\"</span>)+shortcuts[i] );
<a name="l00621"></a>00621             patfix = savefix;
<a name="l00622"></a>00622         }
<a name="l00623"></a>00623         
<a name="l00624"></a>00624         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0 ; i&lt;nfixes ; i++ )
<a name="l00625"></a>00625             <a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">pat</a> |= patternShortcuts[i];
<a name="l00626"></a>00626     }
<a name="l00627"></a>00627     
<a name="l00628"></a>00628     <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a> = <span class="keyword">new</span> regex_t;
<a name="l00629"></a>00629 
<a name="l00630"></a>00630     <span class="keywordtype">int</span> error = regcomp( <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>, <a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">pat</a>, flags );
<a name="l00631"></a>00631     <span class="keywordflow">if</span> ( error ) {
<a name="l00632"></a>00632         <span class="keywordtype">char</span> errbuff[1024];
<a name="l00633"></a>00633         regerror( error, <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>, errbuff, <span class="keyword">sizeof</span> errbuff );
<a name="l00634"></a>00634         <a class="code" href="objcpp_8h.html#0647b5b82106e1568ba608021c7fc16e">OOWarn</a>( <span class="stringliteral">@"OOPattern::init() Regex compilation error: %s, in pattern'%@'"</span>, errbuff, *<a class="code" href="class_o_o_pattern.html#5283f3e7fcc1d49aa8fa87ec27a466a6">pat</a> );
<a name="l00635"></a>00635         <span class="keyword">delete</span> <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>;
<a name="l00636"></a>00636     }
<a name="l00637"></a>00637     <span class="keywordflow">else</span>
<a name="l00638"></a>00638         cache[patin][flags] = <a class="code" href="class_o_o_pattern.html#32c9137ca01d1948259db622607b8f7d">regex</a>;    
<a name="l00639"></a>00639 }
<a name="l00640"></a>00640 
<a name="l00641"></a>00641 <span class="comment">/*=================================================================================*/</span>
<a name="l00642"></a>00642 <span class="comment">/*================================ Utility classes ================================*/</span>
<a name="l00643"></a>00643 <span class="comment"></span>
<a name="l00644"></a>00644 <span class="comment">/**</span>
<a name="l00645"></a>00645 <span class="comment"> Network request on which you can POST data or set HTP header values.</span>
<a name="l00646"></a>00646 <span class="comment"> */</span>
<a name="l00647"></a>00647 
<a name="l00648"></a><a class="code" href="class_o_o_request.html">00648</a> <span class="keyword">class </span><a class="code" href="class_o_o_request.html">OORequest</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_reference.html">OOReference</a>&lt;NSMutableURLRequest *&gt; {
<a name="l00649"></a>00649 <span class="keyword">public</span>:
<a name="l00650"></a><a class="code" href="class_o_o_request.html#6e26bb2fd7ddef2fd7269550b11f77a9">00650</a>     NSURLResponse *<a class="code" href="class_o_o_request.html#6e26bb2fd7ddef2fd7269550b11f77a9">theResponse</a>;
<a name="l00651"></a><a class="code" href="class_o_o_request.html#c2fd3107ce78d387089825f1e4490773">00651</a>     NSError *<a class="code" href="class_o_o_request.html#c2fd3107ce78d387089825f1e4490773">error</a>;
<a name="l00652"></a>00652 
<a name="l00653"></a><a class="code" href="class_o_o_request.html#dccf9396ed45d2c58be4eee6633a75ba">00653</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html#dccf9396ed45d2c58be4eee6633a75ba">OORequest</a>( NSURL *url, 
<a name="l00654"></a>00654                         NSURLRequestCachePolicy cachePolicy = NSURLRequestUseProtocolCachePolicy, 
<a name="l00655"></a>00655                         NSTimeInterval timeoutInterval = 60. ) {
<a name="l00656"></a>00656         [<span class="keyword">set</span>( [[NSMutableURLRequest <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithURL:url cachePolicy:cachePolicy timeoutInterval:timeoutInterval] ) release];
<a name="l00657"></a>00657     }
<a name="l00658"></a><a class="code" href="class_o_o_request.html#801f9f39f82e96e8f93d1a5ace383cd4">00658</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html#801f9f39f82e96e8f93d1a5ace383cd4">OORequest</a>( <a class="code" href="class_o_o_string.html">OOString</a> url ) {
<a name="l00659"></a>00659         [<span class="keyword">set</span>( [[NSMutableURLRequest <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithURL:[NSURL URLWithString:url]] ) release];
<a name="l00660"></a>00660         
<a name="l00661"></a>00661     }
<a name="l00662"></a><a class="code" href="class_o_o_request.html#f4a11da10997dbddf1501dc2ca63af01">00662</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html#f4a11da10997dbddf1501dc2ca63af01">OORequest</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_request.html">OORequest</a> &amp;req ) {
<a name="l00663"></a>00663         <span class="keyword">set</span>( req.get() );
<a name="l00664"></a>00664     }
<a name="l00665"></a>00665 
<a name="l00666"></a><a class="code" href="class_o_o_request.html#f85fe5ecd271560113b51c2acf8f476b">00666</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html">OORequest</a> &amp;<a class="code" href="class_o_o_request.html#f85fe5ecd271560113b51c2acf8f476b">property</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;name, <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;value ) {
<a name="l00667"></a>00667         [<span class="keyword">get</span>() setValue:value forHTTPHeaderField:name];
<a name="l00668"></a>00668         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00669"></a>00669     }
<a name="l00670"></a><a class="code" href="class_o_o_request.html#cb5e309cd4f781a9673c42a201f1f420">00670</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html">OORequest</a> &amp;<a class="code" href="class_o_o_request.html#cb5e309cd4f781a9673c42a201f1f420">post</a>( NSData *<a class="code" href="class_o_o_request.html#369382ac8a0d84acc1aa03314104a748">data</a> ) {
<a name="l00671"></a>00671         [<span class="keyword">get</span>() setHTTPMethod:<span class="stringliteral">@"POST"</span>];
<a name="l00672"></a>00672         <a class="code" href="class_o_o_request.html#f85fe5ecd271560113b51c2acf8f476b">property</a>( <span class="stringliteral">@"Content-Encoding"</span>, <span class="stringliteral">@"application/x-www-form-urlencoded"</span> );
<a name="l00673"></a>00673         <a class="code" href="class_o_o_request.html#f85fe5ecd271560113b51c2acf8f476b">property</a>( <span class="stringliteral">@"Content-Length"</span>, OOFormat(<span class="stringliteral">@"%d"</span>, [data length] ) );
<a name="l00674"></a>00674         [<span class="keyword">get</span>() setHTTPBody:data];
<a name="l00675"></a>00675         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00676"></a>00676     }
<a name="l00677"></a><a class="code" href="class_o_o_request.html#7183ba7a2b641caec212e85d86a2f890">00677</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html">OORequest</a> &amp;<a class="code" href="class_o_o_request.html#7183ba7a2b641caec212e85d86a2f890">post</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;str, NSStringEncoding encoding = NSUTF8StringEncoding ) {
<a name="l00678"></a>00678         <a class="code" href="class_o_o_request.html#cb5e309cd4f781a9673c42a201f1f420">post</a>( [<a class="code" href="class_o_o_request.html#eb65a41e96a0801b7ef0e6a4ac5c15a3">urlEncode</a>( str ) dataUsingEncoding:encoding allowLossyConversion:YES] ); 
<a name="l00679"></a>00679         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00680"></a>00680     }
<a name="l00681"></a>00681 
<a name="l00682"></a><a class="code" href="class_o_o_request.html#eb65a41e96a0801b7ef0e6a4ac5c15a3">00682</a>     <span class="keyword">static</span> <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> NSString *<a class="code" href="class_o_o_request.html#eb65a41e96a0801b7ef0e6a4ac5c15a3">urlEncode</a>( NSString *text ) {
<a name="l00683"></a>00683         NSMutableString *encoded = [NSMutableString <a class="code" href="class_o_o_request.html#f8a870f5104cf549f14c73064c4ed55c">string</a>];
<a name="l00684"></a>00684         <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *iptr = [text UTF8String] ; iptr &amp;&amp; *iptr ; iptr++ )
<a name="l00685"></a>00685             <span class="keywordflow">if</span> ( *iptr &gt; 0 )
<a name="l00686"></a>00686                 [encoded appendFormat:<span class="stringliteral">@"%c"</span>, *iptr];
<a name="l00687"></a>00687             <span class="keywordflow">else</span>
<a name="l00688"></a>00688                 [encoded appendFormat:<span class="stringliteral">@"%%%02x"</span>, *iptr&amp;0xff];
<a name="l00689"></a>00689         
<a name="l00690"></a>00690         <span class="keywordflow">return</span> encoded;
<a name="l00691"></a>00691     }
<a name="l00692"></a>00692     
<a name="l00693"></a><a class="code" href="class_o_o_request.html#369382ac8a0d84acc1aa03314104a748">00693</a>     <a class="code" href="class_o_o_reference.html">OOReference&lt;NSData *&gt;</a> <a class="code" href="class_o_o_request.html#369382ac8a0d84acc1aa03314104a748">data</a>() {
<a name="l00694"></a>00694         <span class="keywordflow">return</span> [NSURLConnection sendSynchronousRequest:<span class="keyword">get</span>() returningResponse:&amp;<a class="code" href="class_o_o_request.html#6e26bb2fd7ddef2fd7269550b11f77a9">theResponse</a> <a class="code" href="class_o_o_request.html#c2fd3107ce78d387089825f1e4490773">error</a>:&amp;<a class="code" href="class_o_o_request.html#c2fd3107ce78d387089825f1e4490773">error</a>];
<a name="l00695"></a>00695     }
<a name="l00696"></a><a class="code" href="class_o_o_request.html#f8a870f5104cf549f14c73064c4ed55c">00696</a>     <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_request.html#f8a870f5104cf549f14c73064c4ed55c">string</a>() {
<a name="l00697"></a>00697         NSData *<a class="code" href="class_o_o_request.html#369382ac8a0d84acc1aa03314104a748">data</a> = [NSURLConnection sendSynchronousRequest:<span class="keyword">get</span>() returningResponse:&amp;<a class="code" href="class_o_o_request.html#6e26bb2fd7ddef2fd7269550b11f77a9">theResponse</a> <a class="code" href="class_o_o_request.html#c2fd3107ce78d387089825f1e4490773">error</a>:&amp;<a class="code" href="class_o_o_request.html#c2fd3107ce78d387089825f1e4490773">error</a>];
<a name="l00698"></a>00698         CFStringRef textEncoding = (CFStringRef)[<a class="code" href="class_o_o_request.html#6e26bb2fd7ddef2fd7269550b11f77a9">theResponse</a> textEncodingName];
<a name="l00699"></a>00699         CFStringEncoding coreEncoding = textEncoding ? CFStringConvertIANACharSetNameToEncoding( textEncoding ) : kCFStringEncodingUTF8;
<a name="l00700"></a>00700         NSStringEncoding encoding = CFStringConvertEncodingToNSStringEncoding( coreEncoding );
<a name="l00701"></a>00701         <a class="code" href="class_o_o_string.html">OOString</a> out = [[NSMutableString <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithData:data encoding:encoding];
<a name="l00702"></a>00702         [*out release];
<a name="l00703"></a>00703         <span class="keywordflow">return</span> out;
<a name="l00704"></a>00704     }
<a name="l00705"></a>00705 };
<a name="l00706"></a>00706 <span class="comment"></span>
<a name="l00707"></a>00707 <span class="comment">/**</span>
<a name="l00708"></a>00708 <span class="comment"> OOURL to initialise strings from the network or files.</span>
<a name="l00709"></a>00709 <span class="comment"> */</span>
<a name="l00710"></a>00710 
<a name="l00711"></a><a class="code" href="class_o_o_u_r_l.html">00711</a> <span class="keyword">class </span><a class="code" href="class_o_o_u_r_l.html">OOURL</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_reference.html">OOReference</a>&lt;NSURL *&gt; {
<a name="l00712"></a>00712 <span class="keyword">public</span>:
<a name="l00713"></a><a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">00713</a>     NSError *<a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>;
<a name="l00714"></a>00714 
<a name="l00715"></a><a class="code" href="class_o_o_u_r_l.html#43d8619c64fc0d7248b39ae5664b90e6">00715</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_u_r_l.html#43d8619c64fc0d7248b39ae5664b90e6">OOURL</a>( NSString *url ) {
<a name="l00716"></a>00716         <a class="code" href="class_o_o_u_r_l.html#5c7a0705c9fc4db1d2b75f649e66c739">setURL</a>( url );
<a name="l00717"></a>00717     }
<a name="l00718"></a><a class="code" href="class_o_o_u_r_l.html#4c9f45a4152b97c7ffee09ca6e0685f8">00718</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_u_r_l.html#4c9f45a4152b97c7ffee09ca6e0685f8">OOURL</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;url = nil ) {
<a name="l00719"></a>00719         <a class="code" href="class_o_o_u_r_l.html#5c7a0705c9fc4db1d2b75f649e66c739">setURL</a>( url );
<a name="l00720"></a>00720     }
<a name="l00721"></a><a class="code" href="class_o_o_u_r_l.html#5c7a0705c9fc4db1d2b75f649e66c739">00721</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">void</span> <a class="code" href="class_o_o_u_r_l.html#5c7a0705c9fc4db1d2b75f649e66c739">setURL</a>( NSString *url ) {
<a name="l00722"></a>00722         <span class="keywordflow">if</span> ( url )
<a name="l00723"></a>00723             [<span class="keyword">set</span>( [[NSURL <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithString:url] ) release];
<a name="l00724"></a>00724     }
<a name="l00725"></a><a class="code" href="class_o_o_u_r_l.html#4504f33ab9b03c67b4e560ddd2c57e59">00725</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_u_r_l.html#4504f33ab9b03c67b4e560ddd2c57e59">string</a>( NSStringEncoding *encoding = NULL )<span class="keyword"> const </span>{
<a name="l00726"></a>00726         <a class="code" href="class_o_o_string.html">OOString</a> out = [[NSMutableString <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithContentsOfURL:<span class="keyword">get</span>() usedEncoding:encoding <a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>:&amp;<a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>];
<a name="l00727"></a>00727         [*out release];
<a name="l00728"></a>00728         <span class="keywordflow">return</span> out;
<a name="l00729"></a>00729     }
<a name="l00730"></a><a class="code" href="class_o_o_u_r_l.html#b3675c7bf44f4fc1fb2236762657e2bf">00730</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_reference.html">OOReference&lt;NSData *&gt;</a> <a class="code" href="class_o_o_u_r_l.html#b3675c7bf44f4fc1fb2236762657e2bf">data</a>( NSUInteger mask = 0 )<span class="keyword"> const </span>{
<a name="l00731"></a>00731         <a class="code" href="class_o_o_reference.html">OOReference&lt;NSData *&gt;</a> out = [[NSData <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithContentsOfURL:<span class="keyword">get</span>() options:mask <a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>:&amp;<a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>];
<a name="l00732"></a>00732         [*out release];
<a name="l00733"></a>00733         <span class="keywordflow">return</span> out;
<a name="l00734"></a>00734     }
<a name="l00735"></a><a class="code" href="class_o_o_u_r_l.html#884f5fb4b518899de53779baf1a90058">00735</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">id</span> <a class="code" href="class_o_o_u_r_l.html#884f5fb4b518899de53779baf1a90058">object</a>() {
<a name="l00736"></a>00736         <span class="keywordflow">return</span> [NSKeyedUnarchiver unarchiveObjectWithData:<a class="code" href="class_o_o_u_r_l.html#b3675c7bf44f4fc1fb2236762657e2bf">data</a>()];
<a name="l00737"></a>00737     }
<a name="l00738"></a><a class="code" href="class_o_o_u_r_l.html#0a78a6c1435871df985197054c805223">00738</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_request.html">OORequest</a> <a class="code" href="class_o_o_u_r_l.html#0a78a6c1435871df985197054c805223">request</a>() {
<a name="l00739"></a>00739         <span class="keywordflow">return</span> <a class="code" href="class_o_o_request.html">OORequest</a>( <span class="keyword">get</span>() );
<a name="l00740"></a>00740     }
<a name="l00741"></a><a class="code" href="class_o_o_u_r_l.html#d79462c712e298126bb701a8ecb5f674">00741</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_u_r_l.html#d79462c712e298126bb701a8ecb5f674">post</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_u_r_l.html#d79462c712e298126bb701a8ecb5f674">post</a> ) {
<a name="l00742"></a>00742         <span class="keywordflow">return</span> <a class="code" href="class_o_o_u_r_l.html#0a78a6c1435871df985197054c805223">request</a>().<a class="code" href="class_o_o_request.html#cb5e309cd4f781a9673c42a201f1f420">post</a>( post ).<a class="code" href="class_o_o_request.html#f8a870f5104cf549f14c73064c4ed55c">string</a>();
<a name="l00743"></a>00743     }
<a name="l00744"></a>00744 };
<a name="l00745"></a>00745 <span class="comment"></span>
<a name="l00746"></a>00746 <span class="comment">/**</span>
<a name="l00747"></a>00747 <span class="comment"> Placeholder for a file path, see OOResource, OODocument, OOTmpFile.</span>
<a name="l00748"></a>00748 <span class="comment"> */</span>
<a name="l00749"></a>00749 
<a name="l00750"></a><a class="code" href="class_o_o_file.html">00750</a> <span class="keyword">class </span><a class="code" href="class_o_o_file.html">OOFile</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_u_r_l.html">OOURL</a> {
<a name="l00751"></a>00751 <span class="keyword">public</span>:
<a name="l00752"></a><a class="code" href="class_o_o_file.html#4459a231d914e23f37619e6b255d3c78">00752</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_file.html#4459a231d914e23f37619e6b255d3c78">OOFile</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a> ) {
<a name="l00753"></a>00753         <a class="code" href="class_o_o_file.html#f0bc80c1cf39aa6dcc648031bc1f140d">setPath</a>( path );
<a name="l00754"></a>00754     }   
<a name="l00755"></a><a class="code" href="class_o_o_file.html#f0bc80c1cf39aa6dcc648031bc1f140d">00755</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">void</span> <a class="code" href="class_o_o_file.html#f0bc80c1cf39aa6dcc648031bc1f140d">setPath</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a> ) {
<a name="l00756"></a>00756         <span class="keywordflow">if</span> ( *path )
<a name="l00757"></a>00757             [<span class="keyword">set</span>( [[NSURL <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initFileURLWithPath:path] ) release];
<a name="l00758"></a>00758     }
<a name="l00759"></a><a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">00759</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a>()<span class="keyword"> const </span>{
<a name="l00760"></a>00760         <span class="keywordflow">return</span> [<span class="keyword">get</span>() <a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a>];
<a name="l00761"></a>00761     }
<a name="l00762"></a><a class="code" href="class_o_o_file.html#5760552c2de0cc0009e18e20c037e450">00762</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> NSDictionary *<a class="code" href="class_o_o_file.html#5760552c2de0cc0009e18e20c037e450">attr</a>() {
<a name="l00763"></a>00763         <span class="keywordflow">return</span> [[NSFileManager defaultManager] attributesOfItemAtPath:<a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a>() <a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>:&amp;<a class="code" href="class_o_o_u_r_l.html#02816668fefb0f224eae5d945bd8768f">error</a>];
<a name="l00764"></a>00764     }
<a name="l00765"></a><a class="code" href="class_o_o_file.html#e5b3f6db55a229ec084647c5c93752ed">00765</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="class_o_o_file.html#e5b3f6db55a229ec084647c5c93752ed">size</a>() {
<a name="l00766"></a>00766         <span class="keywordflow">return</span> [<a class="code" href="class_o_o_file.html#5760552c2de0cc0009e18e20c037e450">attr</a>() fileSize];
<a name="l00767"></a>00767     }
<a name="l00768"></a>00768 
<a name="l00769"></a><a class="code" href="class_o_o_file.html#6464d32030e4a8c4bcc278b6ab53dd95">00769</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_file.html#6464d32030e4a8c4bcc278b6ab53dd95">exists</a>()<span class="keyword"> const </span>{
<a name="l00770"></a>00770         <span class="keywordflow">return</span> [[NSFileManager defaultManager] fileExistsAtPath:<a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a>()];
<a name="l00771"></a>00771     }
<a name="l00772"></a><a class="code" href="class_o_o_file.html#ef28cba2cae7de08d25cb5a4c8e52ef6">00772</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_file.html#ef28cba2cae7de08d25cb5a4c8e52ef6">save</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;<span class="keywordtype">string</span>, NSStringEncoding encoding = NSUTF8StringEncoding )<span class="keyword"> const </span>{
<a name="l00773"></a>00773         <span class="keywordflow">return</span> <a class="code" href="class_o_o_file.html#ef28cba2cae7de08d25cb5a4c8e52ef6">save</a>( [*<span class="keywordtype">string</span> dataUsingEncoding:encoding allowLossyConversion:YES] );
<a name="l00774"></a>00774     }
<a name="l00775"></a><a class="code" href="class_o_o_file.html#55e60146f14d303c40473dfb0119284b">00775</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_file.html#55e60146f14d303c40473dfb0119284b">save</a>( <span class="keyword">const</span> NSData *<a class="code" href="class_o_o_u_r_l.html#b3675c7bf44f4fc1fb2236762657e2bf">data</a>, BOOL atomically = NO )<span class="keyword"> const </span>{
<a name="l00776"></a>00776         <span class="keywordflow">return</span> [data writeToFile:<a class="code" href="class_o_o_file.html#bb2de7ce1f71e7735049e281c6bbbd9a">path</a>() atomically:atomically];
<a name="l00777"></a>00777     }
<a name="l00778"></a><a class="code" href="class_o_o_file.html#9822c9f8195e07bb1065632a508ac535">00778</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> BOOL <a class="code" href="class_o_o_file.html#9822c9f8195e07bb1065632a508ac535">save</a>( <span class="keywordtype">id</span> <span class="keywordtype">object</span> )<span class="keyword"> const </span>{
<a name="l00779"></a>00779         <span class="keywordflow">return</span> <a class="code" href="class_o_o_file.html#ef28cba2cae7de08d25cb5a4c8e52ef6">save</a>( [NSKeyedArchiver archivedDataWithRootObject:<span class="keywordtype">object</span>] );
<a name="l00780"></a>00780     }
<a name="l00781"></a>00781 };
<a name="l00782"></a>00782 <span class="comment"></span>
<a name="l00783"></a>00783 <span class="comment">/**</span>
<a name="l00784"></a>00784 <span class="comment"> Pathfinder for resources in applications.</span>
<a name="l00785"></a>00785 <span class="comment"> */</span>
<a name="l00786"></a>00786 
<a name="l00787"></a><a class="code" href="class_o_o_resource.html">00787</a> <span class="keyword">class </span><a class="code" href="class_o_o_resource.html">OOResource</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_file.html">OOFile</a> {
<a name="l00788"></a>00788 <span class="keyword">public</span>:
<a name="l00789"></a><a class="code" href="class_o_o_resource.html#0fb2a4c8bc53d07ac7b096b96eeae4e9">00789</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_resource.html#0fb2a4c8bc53d07ac7b096b96eeae4e9">OOResource</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;name ) : <a class="code" href="class_o_o_file.html">OOFile</a>( nil ) {
<a name="l00790"></a>00790         <a class="code" href="objcpp_8h.html#a71d43d536418b90e3a25dec625c8c24">OOStringArray</a> comps = name / <span class="stringliteral">@"."</span>;
<a name="l00791"></a>00791         <a class="code" href="class_o_o_file.html#f0bc80c1cf39aa6dcc648031bc1f140d">setPath</a>( [[NSBundle mainBundle] pathForResource:**comps[0]
<a name="l00792"></a>00792                                                  ofType:comps&gt;1 ? **comps[1] : nil] );
<a name="l00793"></a>00793     }
<a name="l00794"></a>00794 };
<a name="l00795"></a>00795 <span class="comment"></span>
<a name="l00796"></a>00796 <span class="comment">/**</span>
<a name="l00797"></a>00797 <span class="comment"> Pathfinder for documents for applications.</span>
<a name="l00798"></a>00798 <span class="comment"> */</span>
<a name="l00799"></a>00799 
<a name="l00800"></a><a class="code" href="class_o_o_document.html">00800</a> <span class="keyword">class </span><a class="code" href="class_o_o_document.html">OODocument</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_file.html">OOFile</a> {
<a name="l00801"></a>00801 <span class="keyword">public</span>:
<a name="l00802"></a><a class="code" href="class_o_o_document.html#46fbef7dbfa3710d433aa63890bd43ef">00802</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_document.html#46fbef7dbfa3710d433aa63890bd43ef">OODocument</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;name ) : <a class="code" href="class_o_o_file.html">OOFile</a>( OOFormat( <span class="stringliteral">@"%@/Documents/%@"</span>, NSHomeDirectory(), *name ) ) {}
<a name="l00803"></a>00803 };
<a name="l00804"></a>00804 <span class="comment"></span>
<a name="l00805"></a>00805 <span class="comment">/**</span>
<a name="l00806"></a>00806 <span class="comment"> Pathfinder for temporary files for applications.</span>
<a name="l00807"></a>00807 <span class="comment"> */</span>
<a name="l00808"></a>00808 
<a name="l00809"></a><a class="code" href="class_o_o_tmp_file.html">00809</a> <span class="keyword">class </span><a class="code" href="class_o_o_tmp_file.html">OOTmpFile</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_file.html">OOFile</a> {
<a name="l00810"></a>00810 <span class="keyword">public</span>:
<a name="l00811"></a><a class="code" href="class_o_o_tmp_file.html#1b6654021a30362b23b847ac345b1879">00811</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_tmp_file.html#1b6654021a30362b23b847ac345b1879">OOTmpFile</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;name ) : <a class="code" href="class_o_o_file.html">OOFile</a>( OOFormat( <span class="stringliteral">@"%@/tmp/%@"</span>, NSHomeDirectory(), *name ) ) {}
<a name="l00812"></a>00812 };
<a name="l00813"></a>00813 <span class="comment"></span>
<a name="l00814"></a>00814 <span class="comment">/**</span>
<a name="l00815"></a>00815 <span class="comment"> Internal class for subscripted acces to defaults.</span>
<a name="l00816"></a>00816 <span class="comment"> */</span>
<a name="l00817"></a>00817 
<a name="l00818"></a>00818 <span class="keyword">class </span>OODefaultsSub : <span class="keyword">public</span> OODictionarySub&lt;OOString&gt; {
<a name="l00819"></a>00819     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_o_o_defaults.html">OODefaults</a>;
<a name="l00820"></a>00820     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub( <span class="keyword">const</span> <a class="code" href="class_o_o_dictionary.html">OODictionary&lt;OOString&gt;</a> *root, <span class="keywordtype">id</span> key ) : OODictionarySub&lt;<a class="code" href="class_o_o_string.html">OOString</a>&gt;( root, key ) {
<a name="l00821"></a>00821     }
<a name="l00822"></a>00822     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keyword">virtual</span> <span class="keywordtype">id</span> <span class="keyword">set</span>( <span class="keywordtype">id</span> value ) {
<a name="l00823"></a>00823         [[NSUserDefaults standardUserDefaults] setObject:value forKey:key];
<a name="l00824"></a>00824         <span class="keywordflow">return</span> <a class="code" href="class_o_o_reference.html#8f536d8762720aaea9129e65444e8462">OODictionarySub&lt;OOString&gt;::set</a>( value );
<a name="l00825"></a>00825     }
<a name="l00826"></a>00826 <span class="keyword">public</span>:
<a name="l00827"></a>00827     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( <a class="code" href="class_o_o_string.html">OOString</a> val ) { <span class="keyword">set</span>( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00828"></a>00828     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( CFStringRef val ) { <span class="keyword">set</span>( (id)val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00829"></a>00829     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( NSString *val ) { <span class="keyword">set</span>( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00830"></a>00830     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( NSArray *val ) { <span class="keyword">set</span>( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00831"></a>00831     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( NSDictionary *val ) { <span class="keyword">set</span>( val ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00832"></a>00832     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( <span class="keywordtype">long</span> <span class="keywordtype">long</span> val ) { <span class="keyword">set</span>( [[NSNumber numberWithLongLong:val] stringValue] ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00833"></a>00833     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( <span class="keywordtype">double</span> val ) { <span class="keyword">set</span>( [[NSNumber numberWithDouble:val] stringValue] ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00834"></a>00834     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( <span class="keywordtype">float</span> val ) { <span class="keyword">set</span>( [[NSNumber numberWithFloat:val] stringValue] ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00835"></a>00835     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( <span class="keywordtype">int</span> val ) { <span class="keyword">set</span>( [[NSNumber numberWithInt:val] stringValue] ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00836"></a>00836     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub &amp;<a class="code" href="class_o_o_dictionary.html#9647d049646b7affb12458933d408d6d">operator = </a>( BOOL val ) { <span class="keyword">set</span>( [[NSNumber numberWithBool:val] stringValue] ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00837"></a>00837     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator long long () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() longLongValue]; }
<a name="l00838"></a>00838     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator double () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() doubleValue]; }
<a name="l00839"></a>00839     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator float () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() floatValue]; }
<a name="l00840"></a>00840     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator int () { <span class="keywordflow">return</span> [<span class="keyword">get</span>() intValue]; }
<a name="l00841"></a>00841     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator NSDictionary * () { <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00842"></a>00842     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> operator NSArray * () { <span class="keywordflow">return</span> <span class="keyword">get</span>(); }
<a name="l00843"></a>00843     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_reference.html#68b72441b23c571e7a55e02e248c3c6b">operator ~ </a>() {
<a name="l00844"></a>00844         [[NSUserDefaults standardUserDefaults] removeObjectForKey:key];
<a name="l00845"></a>00845         <span class="keywordflow">return</span> <a class="code" href="class_o_o_reference.html#68b72441b23c571e7a55e02e248c3c6b">OODictionarySub&lt;OOString&gt;::operator ~ </a>();
<a name="l00846"></a>00846     }
<a name="l00847"></a>00847 };
<a name="l00848"></a>00848 <span class="comment"></span>
<a name="l00849"></a>00849 <span class="comment">/**</span>
<a name="l00850"></a>00850 <span class="comment"> Binds defaults to an OODictionary.</span>
<a name="l00851"></a>00851 <span class="comment"> */</span>
<a name="l00852"></a>00852 
<a name="l00853"></a><a class="code" href="class_o_o_defaults.html">00853</a> <span class="keyword">class </span><a class="code" href="class_o_o_defaults.html">OODefaults</a> : <a class="code" href="class_o_o_dictionary.html">OODictionary</a>&lt;OOString&gt; {
<a name="l00854"></a>00854 <span class="keyword">public</span>:
<a name="l00855"></a><a class="code" href="class_o_o_defaults.html#0b56b98d851072048d80f5b08d9751f8">00855</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_defaults.html#0b56b98d851072048d80f5b08d9751f8">OODefaults</a>() {
<a name="l00856"></a>00856         [<span class="keyword">set</span>( [[[NSUserDefaults standardUserDefaults] dictionaryRepresentation] mutableCopy] ) release];
<a name="l00857"></a>00857     }
<a name="l00858"></a><a class="code" href="class_o_o_defaults.html#a78f53e947accc3527a71bdf51d2ad31">00858</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub <a class="code" href="class_o_o_defaults.html#a78f53e947accc3527a71bdf51d2ad31">operator[] </a>( <span class="keywordtype">id</span> key )<span class="keyword"> const </span>{
<a name="l00859"></a>00859         <span class="keywordflow">return</span> OODefaultsSub( <span class="keyword">this</span>, key );
<a name="l00860"></a>00860     }
<a name="l00861"></a><a class="code" href="class_o_o_defaults.html#f26754c8c9948e81bf98ccb0464e9dd5">00861</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> OODefaultsSub <a class="code" href="class_o_o_defaults.html#a78f53e947accc3527a71bdf51d2ad31">operator [] </a>( <span class="keyword">const</span> CFStringRef sub )<span class="keyword"> const </span>{
<a name="l00862"></a>00862         <span class="keywordflow">return</span> (*<span class="keyword">this</span>)[(id)sub];
<a name="l00863"></a>00863     }   
<a name="l00864"></a><a class="code" href="class_o_o_defaults.html#55cbbcb9c33b409fdc9ca4316d405970">00864</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <span class="keywordtype">void</span> <a class="code" href="class_o_o_defaults.html#55cbbcb9c33b409fdc9ca4316d405970">sync</a>() {
<a name="l00865"></a>00865         [[NSUserDefaults standardUserDefaults] synchronize];
<a name="l00866"></a>00866     }
<a name="l00867"></a><a class="code" href="class_o_o_defaults.html#220a2d56bbd7298c6ac18769d337820a">00867</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_defaults.html#220a2d56bbd7298c6ac18769d337820a">~OODefaults</a>()  {
<a name="l00868"></a>00868         <a class="code" href="class_o_o_defaults.html#55cbbcb9c33b409fdc9ca4316d405970">sync</a>();
<a name="l00869"></a>00869     }
<a name="l00870"></a>00870 };
<a name="l00871"></a>00871 <span class="comment"></span>
<a name="l00872"></a>00872 <span class="comment">/**</span>
<a name="l00873"></a>00873 <span class="comment"> Binds application's Info.plist to an OODictionary.</span>
<a name="l00874"></a>00874 <span class="comment"> */</span>
<a name="l00875"></a>00875 
<a name="l00876"></a><a class="code" href="class_o_o_plist.html">00876</a> <span class="keyword">class </span><a class="code" href="class_o_o_plist.html">OOPlist</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_dictionary.html">OODictionary</a>&lt;OOString&gt; {
<a name="l00877"></a>00877 <span class="keyword">public</span>:
<a name="l00878"></a><a class="code" href="class_o_o_plist.html#352ccc36c90aee7f1368d16f03f9ab51">00878</a>     <a class="code" href="class_o_o_plist.html#352ccc36c90aee7f1368d16f03f9ab51">OOPlist</a>() {
<a name="l00879"></a>00879         <span class="keyword">set</span>( [[NSBundle mainBundle] infoDictionary] );
<a name="l00880"></a>00880     }
<a name="l00881"></a>00881 };
<a name="l00882"></a>00882 <span class="comment"></span>
<a name="l00883"></a>00883 <span class="comment">/**</span>
<a name="l00884"></a>00884 <span class="comment"> Shortcut for creating alerts.</span>
<a name="l00885"></a>00885 <span class="comment"> */</span>
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="keyword">class </span>OOAlert {
<a name="l00888"></a>00888 <span class="keyword">public</span>:
<a name="l00889"></a>00889     OOAlert( <a class="code" href="class_o_o_string.html">OOString</a> msg, <span class="keywordtype">id</span> del = nil, 
<a name="l00890"></a>00890             <a class="code" href="class_o_o_string.html">OOString</a> cancel = <span class="stringliteral">@"OK"</span>, <a class="code" href="class_o_o_string.html">OOString</a> b1 = nil, <a class="code" href="class_o_o_string.html">OOString</a> b2 = nil ) {
<a name="l00891"></a>00891 <span class="preprocessor">#ifdef __IPHONE_OS_VERSION_MIN_REQUIRED</span>
<a name="l00892"></a>00892 <span class="preprocessor"></span>        [[[[UIAlertView alloc] initWithTitle:*<a class="code" href="class_o_o_plist.html">OOPlist</a>()[<span class="stringliteral">@"CFBundleDisplayName"</span>] message:msg delegate:del
<a name="l00893"></a>00893                            cancelButtonTitle:cancel otherButtonTitles:*b1, *b2, nil] autorelease] show];
<a name="l00894"></a>00894 <span class="preprocessor">#else</span>
<a name="l00895"></a>00895 <span class="preprocessor"></span>        <a class="code" href="objcpp_8h.html#0647b5b82106e1568ba608021c7fc16e">OOWarn</a>( <span class="stringliteral">@"Alert: %@"</span>, *msg );
<a name="l00896"></a>00896 <span class="preprocessor">#endif      </span>
<a name="l00897"></a>00897 <span class="preprocessor"></span>    }
<a name="l00898"></a>00898 };  
<a name="l00899"></a>00899 
<a name="l00900"></a>00900 <span class="comment">/*=================================================================================*/</span>
<a name="l00901"></a>00901 <span class="comment">/*================================ Leftovers ======================================*/</span>
<a name="l00902"></a>00902 <span class="comment"></span>
<a name="l00903"></a>00903 <span class="comment">/**</span>
<a name="l00904"></a>00904 <span class="comment"> A wrapper for a number using NSNumber so it can be put in an NSArray or NSDictionary</span>
<a name="l00905"></a>00905 <span class="comment"> */</span>
<a name="l00906"></a>00906 
<a name="l00907"></a><a class="code" href="class_o_o_number.html">00907</a> <span class="keyword">class </span><a class="code" href="class_o_o_number.html">OONumber</a> : <span class="keyword">public</span> <a class="code" href="class_o_o_reference.html">OOReference</a>&lt;NSNumber *&gt; {
<a name="l00908"></a>00908 <span class="keyword">public</span>:
<a name="l00909"></a><a class="code" href="class_o_o_number.html#bbd6db9379e062749d80ffff845c59a0">00909</a>     <a class="code" href="class_o_o_number.html#bbd6db9379e062749d80ffff845c59a0">OONumber</a>( <span class="keywordtype">double</span> d ) {
<a name="l00910"></a>00910         [<span class="keyword">set</span>( [[NSNumber <a class="code" href="class_o_o_reference.html#2cb99db026710c3c3b3194269285de9a">alloc</a>] initWithDouble:d] ) release];
<a name="l00911"></a>00911     }
<a name="l00912"></a><a class="code" href="class_o_o_number.html#701437f95cc227f88d2f49652fa66e0d">00912</a>     <a class="code" href="class_o_o_number.html#701437f95cc227f88d2f49652fa66e0d">OONumber</a>( NSNumber *val ) {
<a name="l00913"></a>00913         <span class="keyword">set</span>( val );
<a name="l00914"></a>00914     }
<a name="l00915"></a>00915     
<a name="l00916"></a>00916     operator NSNumber * ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">get</span>(); } 
<a name="l00917"></a><a class="code" href="class_o_o_number.html#7c8d4c9e287dfd0d3a79a2bdd011d1d8">00917</a>     <a class="code" href="class_o_o_number.html#7c8d4c9e287dfd0d3a79a2bdd011d1d8">operator double </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() doubleValue]; } 
<a name="l00918"></a><a class="code" href="class_o_o_number.html#1683ddc2841eeb36c8252361d7818304">00918</a>     <span class="keywordtype">double</span> <a class="code" href="class_o_o_number.html#1683ddc2841eeb36c8252361d7818304">operator * </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> [<span class="keyword">get</span>() doubleValue]; }
<a name="l00919"></a>00919     
<a name="l00920"></a><a class="code" href="class_o_o_number.html#51d90c49a0678b785242f47c8963131e">00920</a>     <a class="code" href="class_o_o_number.html">OONumber</a> &amp;<a class="code" href="class_o_o_number.html#51d90c49a0678b785242f47c8963131e">operator = </a>( <span class="keyword">const</span> <a class="code" href="class_o_o_number.html">OONumber</a> &amp;val ) { <span class="keyword">set</span>( val.get() ); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00921"></a><a class="code" href="class_o_o_number.html#1f2aaf52cc113d4d7626daaf01461fa0">00921</a>     <a class="code" href="class_o_o_number.html">OONumber</a> &amp;<a class="code" href="class_o_o_number.html#1f2aaf52cc113d4d7626daaf01461fa0">operator += </a>( <span class="keywordtype">double</span> val ) { <span class="keywordflow">return</span> *<span class="keyword">this</span> = *<span class="keyword">this</span> + val; }
<a name="l00922"></a><a class="code" href="class_o_o_number.html#9ff75a9a12663350055bf6bca46c98a6">00922</a>     <a class="code" href="class_o_o_number.html">OONumber</a> &amp;<a class="code" href="class_o_o_number.html#9ff75a9a12663350055bf6bca46c98a6">operator -= </a>( <span class="keywordtype">double</span> val ) { <span class="keywordflow">return</span> *<span class="keyword">this</span> = *<span class="keyword">this</span> - val; }
<a name="l00923"></a><a class="code" href="class_o_o_number.html#e27daa0d712abf20455c43b7329e3cd7">00923</a>     <a class="code" href="class_o_o_number.html">OONumber</a> &amp;<a class="code" href="class_o_o_number.html#e27daa0d712abf20455c43b7329e3cd7">operator *= </a>( <span class="keywordtype">double</span> val ) { <span class="keywordflow">return</span> *<span class="keyword">this</span> = *<span class="keyword">this</span> * val; }
<a name="l00924"></a><a class="code" href="class_o_o_number.html#c09689f0f0efe1ae0572af2ba186df06">00924</a>     <a class="code" href="class_o_o_number.html">OONumber</a> &amp;<a class="code" href="class_o_o_number.html#c09689f0f0efe1ae0572af2ba186df06">operator /= </a>( <span class="keywordtype">double</span> val ) { <span class="keywordflow">return</span> *<span class="keyword">this</span> = *<span class="keyword">this</span> / val; }
<a name="l00925"></a><a class="code" href="class_o_o_number.html#ae108e76b9de713bfad6a6ee41096371">00925</a>     <a class="code" href="class_o_o_number.html">OONumber</a> <a class="code" href="class_o_o_number.html#ae108e76b9de713bfad6a6ee41096371">operator + </a>( <span class="keywordtype">double</span> val )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> **<span class="keyword">this</span> + val; }
<a name="l00926"></a><a class="code" href="class_o_o_number.html#a71d889e5d0fa6afbbc09a2a929fd9ae">00926</a>     <a class="code" href="class_o_o_number.html">OONumber</a> <a class="code" href="class_o_o_number.html#a71d889e5d0fa6afbbc09a2a929fd9ae">operator - </a>( <span class="keywordtype">double</span> val )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> **<span class="keyword">this</span> - val; }
<a name="l00927"></a><a class="code" href="class_o_o_number.html#a8d80804dd0cc843d1a901c5804ae83c">00927</a>     <a class="code" href="class_o_o_number.html">OONumber</a> <a class="code" href="class_o_o_number.html#1683ddc2841eeb36c8252361d7818304">operator * </a>( <span class="keywordtype">double</span> val )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> **<span class="keyword">this</span> * val; }
<a name="l00928"></a><a class="code" href="class_o_o_number.html#5e8e178e032915b892bb7a06f4f3b43b">00928</a>     <a class="code" href="class_o_o_number.html">OONumber</a> <a class="code" href="class_o_o_number.html#5e8e178e032915b892bb7a06f4f3b43b">operator / </a>( <span class="keywordtype">double</span> val )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> **<span class="keyword">this</span> / val; }
<a name="l00929"></a>00929 };
<a name="l00930"></a>00930 <span class="comment"></span>
<a name="l00931"></a>00931 <span class="comment">/**</span>
<a name="l00932"></a>00932 <span class="comment"> A fledgling wrapper for NSScanner which didn't really pan out...</span>
<a name="l00933"></a>00933 <span class="comment"> */</span>
<a name="l00934"></a>00934 
<a name="l00935"></a><a class="code" href="class_o_o_scan.html">00935</a> <span class="keyword">class </span><a class="code" href="class_o_o_scan.html">OOScan</a> {
<a name="l00936"></a><a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">00936</a>     <a class="code" href="class_o_o_reference.html">OOReference&lt;NSScanner *&gt;</a> <a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a>;
<a name="l00937"></a>00937 <span class="keyword">public</span>:
<a name="l00938"></a><a class="code" href="class_o_o_scan.html#8e5b701b357270a027a9cab0fb17cf05">00938</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_scan.html#8e5b701b357270a027a9cab0fb17cf05">OOScan</a>( <span class="keyword">const</span> <a class="code" href="class_o_o_string.html">OOString</a> &amp;input ) {
<a name="l00939"></a>00939         [*(<a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a> = [[NSScanner alloc] initWithString:input]) release];
<a name="l00940"></a>00940     }
<a name="l00941"></a>00941     
<a name="l00942"></a><a class="code" href="class_o_o_scan.html#45b350031303d4f09d7525a4a44d0282">00942</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_scan.html#45b350031303d4f09d7525a4a44d0282">operator &amp; </a>( NSString *str ) {
<a name="l00943"></a>00943         NSString *out = nil;
<a name="l00944"></a>00944         [*<a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a> scanString:str intoString:&amp;out];
<a name="l00945"></a>00945         <span class="keywordflow">return</span> out;
<a name="l00946"></a>00946     }
<a name="l00947"></a><a class="code" href="class_o_o_scan.html#e309545610421f40523d18980efba03d">00947</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_string.html">OOString</a> <a class="code" href="class_o_o_scan.html#e309545610421f40523d18980efba03d">operator | </a>( NSString *str ) {
<a name="l00948"></a>00948         NSString *out = nil;
<a name="l00949"></a>00949         [*<a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a> scanUpToString:str intoString:&amp;out];
<a name="l00950"></a>00950         <span class="keywordflow">return</span> out;
<a name="l00951"></a>00951     }
<a name="l00952"></a><a class="code" href="class_o_o_scan.html#d0213a9b9f6b09c61c44251f20ea4a14">00952</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_scan.html">OOScan</a> &amp;<a class="code" href="class_o_o_scan.html#d0213a9b9f6b09c61c44251f20ea4a14">operator &gt;&gt; </a>( <span class="keywordtype">double</span> &amp;d ) {
<a name="l00953"></a>00953         [*<a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a> scanDouble:&amp;d];
<a name="l00954"></a>00954         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00955"></a>00955     }
<a name="l00956"></a><a class="code" href="class_o_o_scan.html#583bb44e4ba76d97ef0470f42f4a680e">00956</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_scan.html">OOScan</a> &amp;<a class="code" href="class_o_o_scan.html#d0213a9b9f6b09c61c44251f20ea4a14">operator &gt;&gt; </a>( <span class="keywordtype">float</span> &amp;f ) {
<a name="l00957"></a>00957         [*<a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a> scanFloat:&amp;f];
<a name="l00958"></a>00958         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00959"></a>00959     }
<a name="l00960"></a><a class="code" href="class_o_o_scan.html#5f7f963a615d7846bc0541f460186fe2">00960</a>     <a class="code" href="objcpp_8h.html#5e712be6142aa076e2c7f4fdadca5760">oo_inline</a> <a class="code" href="class_o_o_scan.html">OOScan</a> &amp;<a class="code" href="class_o_o_scan.html#d0213a9b9f6b09c61c44251f20ea4a14">operator &gt;&gt; </a>( <span class="keywordtype">int</span> &amp;i ) {
<a name="l00961"></a>00961         [*<a class="code" href="class_o_o_scan.html#2b8d3e0db4df74e0b8e8b19faec41af7">scan</a> scanInt:&amp;i];
<a name="l00962"></a>00962         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00963"></a>00963     }
<a name="l00964"></a>00964 };
<a name="l00965"></a>00965 
<a name="l00966"></a>00966 
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Nov 17 15:32:31 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
